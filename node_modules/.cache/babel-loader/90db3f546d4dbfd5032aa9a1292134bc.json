{"ast":null,"code":"import _slicedToArray from \"/Users/nhnent/IdeaProjects/moobe/src/main/webapps/moobe-fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/nhnent/IdeaProjects/moobe/src/main/webapps/moobe-fe/src/components/common/map/MoobeKakaoMap.jsx\";\nimport React, { useEffect, useState } from 'react';\nimport LoadingOverlay from \"react-loading-overlay\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faInfo, faSpinner, faTimesCircle } from '@fortawesome/free-solid-svg-icons';\nimport withJs from \"components/common/map/WithJs\";\nimport withKakaoMap from \"components/common/map/WithKakaoMap\";\nimport KakaoMap from \"components/common/map/KakaoMap\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { isMobile } from \"react-device-detect\";\nimport MapImages from \"assets/images/map_images.png\";\nimport { loadingGeoLocationFail, loadingGeoLocationStarted, loadingGeoLocationSuccess, setMapBounds, setMapCenter, setMapCenterChange, setMapCenterForce, setMapLevel, setSearchOnLevelChange } from \"data/redux/action/map\";\nimport { MapLoadingSpinner } from \"components/common/layout/PresentUtil\";\nimport { isEmpty as _isEmpty, isNil as _isNil } from 'lodash';\nimport GeoLocationMarker from \"components/common/map/GeoLocationMarker\";\nimport { MAP_LOADING_SPINNER } from \"assets/styles/colors\";\nimport SearchCurrentButton from \"components/common/map/SearchCurrentButton\";\nimport debounce from 'lodash.debounce';\nimport { buildMoobeMapBounds, isSimilarLocation, unpackMoobeMapBounds } from \"data/util\";\nimport queryString from \"query-string\";\nimport { useLocation } from \"react-router\";\nimport SearchWideLocationButton from \"components/common/map/SearchWideLocationButton\";\nimport { getWindowDimensions, initVH } from \"components/common/layout/WindowDimensions\";\nimport { useCookies } from \"react-cookie\";\nimport { MOOBE_COOKIE_LAST_LOCATION_NAME } from \"assets/styles/const\";\nconst Kakao = withJs(`//dapi.kakao.com/v2/maps/sdk.js?appkey=${process.env.REACT_APP_KAKAO_API_KEY}&libraries=services,clusterer,drawing&autoload=false`)(withKakaoMap(KakaoMap));\n\nconst MoobeKakaoMap = props => {\n  const _useCookies = useCookies([MOOBE_COOKIE_LAST_LOCATION_NAME]),\n        _useCookies2 = _slicedToArray(_useCookies, 2),\n        cookies = _useCookies2[0],\n        setCookie = _useCookies2[1];\n\n  const dispatch = useDispatch();\n\n  const _useSelector = useSelector(state => state.mapClusterLocation),\n        mapClusterLocationList = _useSelector.mapClusterLocationList;\n\n  const _useSelector2 = useSelector(state => state.mapLocation),\n        mapLocationList = _useSelector2.mapLocationList,\n        focusedMapLocation = _useSelector2.focusedMapLocation;\n\n  const _useSelector3 = useSelector(state => state.contentDetail),\n        contentDetail = _useSelector3.contentDetail;\n\n  const location = useLocation();\n\n  const _queryString$parse = queryString.parse(location.search),\n        query = _queryString$parse.query,\n        focused = _queryString$parse.focused,\n        swLat = _queryString$parse.swLat,\n        swLng = _queryString$parse.swLng,\n        neLat = _queryString$parse.neLat,\n        neLng = _queryString$parse.neLng;\n\n  const _useSelector4 = useSelector(state => state.map),\n        centerLat = _useSelector4.centerLat,\n        centerLng = _useSelector4.centerLng,\n        refreshCenter = _useSelector4.refreshCenter,\n        mapLoading = _useSelector4.mapLoading,\n        changedCenterLat = _useSelector4.changedCenterLat,\n        changedCenterLng = _useSelector4.changedCenterLng,\n        enableGeolocation = _useSelector4.enableGeolocation,\n        geoLocationCenterLat = _useSelector4.geoLocationCenterLat,\n        geoLocationCenterLng = _useSelector4.geoLocationCenterLng,\n        geolocationLoading = _useSelector4.geolocationLoading,\n        mapBounds = _useSelector4.mapBounds;\n\n  const _useState = useState(null),\n        _useState2 = _slicedToArray(_useState, 2),\n        bounds = _useState2[0],\n        setBounds = _useState2[1];\n\n  const initialOptions = {\n    lat: centerLat,\n    lng: centerLng,\n    level: (isMobile ? process.env.REACT_APP_INIT_MAP_LEVEL_MOBILE : process.env.REACT_APP_INIT_MAP_LEVEL) || 13,\n    refreshCenter: refreshCenter,\n    zoom: props.zoom ? props.zoom : \"TOPRIGHT\"\n  }; // 초기 center, query param으로 부터 lat,lng받아서 map bounds 셋팅, map loading start\n\n  useEffect(() => {\n    dispatch(setMapCenter({\n      lat: process.env.REACT_APP_INIT_MAP_CENTER_LAT,\n      lng: process.env.REACT_APP_INIT_MAP_CENTER_LNG\n    }));\n    let queryMapBound = buildMoobeMapBounds(swLat, swLng, neLat, neLng);\n\n    if (!_isNil(queryMapBound)) {\n      setBounds(buildKakaoMapBounds(queryMapBound));\n      dispatch(setMapBounds(unpackMoobeMapBounds(queryMapBound)));\n    }\n\n    dispatch(setSearchOnLevelChange(true)); //initial get cluster location after map level set.\n\n    return () => {\n      dispatch(loadingGeoLocationFail()); // reset geolocation\n    };\n  }, []);\n  useEffect(() => {\n    if (isMobile) {\n      return;\n    }\n\n    if (!_isEmpty(contentDetail)) {\n      return;\n    }\n\n    let queryMapBound = buildMoobeMapBounds(swLat, swLng, neLat, neLng);\n\n    if (!_isNil(queryMapBound)) {\n      setBounds(buildKakaoMapBounds(queryMapBound));\n      dispatch(setMapBounds(unpackMoobeMapBounds(queryMapBound)));\n    }\n  }, [contentDetail, swLat, swLng, neLat, neLng]);\n  useEffect(() => {\n    if (!isMobile) {\n      return;\n    }\n\n    if (!_isEmpty(focusedMapLocation)) {\n      return;\n    }\n\n    let queryMapBound = buildMoobeMapBounds(swLat, swLng, neLat, neLng);\n\n    if (!_isNil(queryMapBound)) {\n      setBounds(buildKakaoMapBounds(queryMapBound));\n      dispatch(setMapBounds(unpackMoobeMapBounds(queryMapBound)));\n    }\n  }, [focusedMapLocation, swLat, swLng, neLat, neLng]); //desktop: map이 loading되어 있고 content detail이 load될 때 content의 center로 map center change\n\n  useEffect(() => {\n    if (!isMobile && !_isEmpty(contentDetail) && !mapLoading) {\n      dispatch(setMapCenterForce({\n        lat: contentDetail.store.latitude,\n        lng: contentDetail.store.longitude\n      }));\n    }\n  }, [contentDetail, mapLoading]); //mobile: map이 loading되어 있고 focusedMapLocation이 load될 때 location center로 map center change\n\n  useEffect(() => {\n    if (isMobile && !_isEmpty(focusedMapLocation) && !mapLoading) {\n      dispatch(setMapCenterForce({\n        lat: focusedMapLocation.latitude,\n        lng: focusedMapLocation.longitude\n      }));\n    }\n  }, [focusedMapLocation, mapLoading]);\n\n  const buildKakaoMapBounds = moobeMapBounds => {\n    const unpackedBounds = unpackMoobeMapBounds(moobeMapBounds);\n\n    if (!_isNil(unpackedBounds)) {\n      return [{\n        lat: unpackedBounds.swLat,\n        lng: unpackedBounds.swLng\n      }, {\n        lat: unpackedBounds.neLat,\n        lng: unpackedBounds.neLng\n      }];\n    } else {\n      return null;\n    }\n  };\n\n  const toggleGeolocation = () => {\n    dispatch(loadingGeoLocationStarted());\n\n    if (enableGeolocation) {\n      dispatch(loadingGeoLocationFail()); //call force failed to disable geolocation for a moment\n\n      setTimeout(() => {\n        dispatch(loadingGeoLocationSuccess());\n      }, 500); //delay for geo marker unmount\n    } else {\n      setTimeout(() => {\n        dispatch(loadingGeoLocationSuccess());\n      }, 200); //delay for user wait\n    }\n  };\n\n  const showDevInfo = () => {\n    initVH();\n    const dimention = getWindowDimensions();\n    const vh = getWindowDimensions().height * 0.01;\n    alert(\"width : \" + dimention.width + \"\\n\" + \"height : \" + dimention.height + \"\\n\" + \"vh : \" + vh + \"\\n\" + \"document.body.scrollHeight : \" + document.body.scrollHeight + \"\\n\" + \"document.body.clientHeight : \" + document.body.clientHeight + \"\\n\" + \"document.documentElement.scrollHeight : \" + document.documentElement.scrollHeight + \"\\n\" + \"document.documentElement.clientHeight : \" + document.documentElement.clientHeight + \"\\n\" + \"document.height : \" + document.height + \"\\n\");\n  }; //every map center changed, save changed center and bounds for search current location\n\n\n  const centerChange = map => {\n    let center = map.getCenter();\n    dispatch(setMapCenterChange({\n      lat: center.getLat(),\n      lng: center.getLng()\n    }));\n  };\n\n  const boundChange = map => {\n    let bounds = map.getBounds();\n    let sw = bounds.getSouthWest(),\n        ne = bounds.getNorthEast();\n    dispatch(setMapBounds({\n      swLat: sw.getLat(),\n      swLng: sw.getLng(),\n      neLat: ne.getLat(),\n      neLng: ne.getLng()\n    }));\n  };\n\n  const zoomChange = map => {\n    dispatch(setMapLevel(map.getLevel()));\n  };\n\n  const geoLocationCenterChanged = () => {\n    return !isSimilarLocation({\n      lat: changedCenterLat,\n      lng: changedCenterLng\n    }, {\n      lat: geoLocationCenterLat,\n      lng: geoLocationCenterLng\n    });\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(Loading, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189\n    },\n    __self: this\n  }, React.createElement(Kakao, {\n    className: props.className,\n    options: Object.assign(initialOptions, {\n      zoom: props.zoom\n    }, {\n      bounds\n    }, {\n      refreshCenter\n    }),\n    onZoomChange: debounce(zoomChange, 100),\n    onCenterChange: debounce(centerChange, 100),\n    onBoundsChange: debounce(boundChange, 100),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190\n    },\n    __self: this\n  }, props.children, enableGeolocation ? React.createElement(GeoLocationMarker, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196\n    },\n    __self: this\n  }) : null), React.createElement(\"button\", {\n    style: {\n      backgroundImage: geolocationLoading ? \"\" : 'url(' + MapImages + ')',\n      backgroundSize: \"453px 434px\",\n      color: geolocationLoading ? \"\" : \"transparent\"\n    },\n    className: \"button geo-button\" + (isMobile ? \" mobile\" : \"\") + (enableGeolocation && !geoLocationCenterChanged() ? \" active\" : \"\"),\n    onClick: toggleGeolocation,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198\n    },\n    __self: this\n  }, geolocationLoading ? React.createElement(FontAwesomeIcon, {\n    className: \"fast-spin\",\n    icon: faSpinner,\n    size: \"lg\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203\n    },\n    __self: this\n  }) : null), process.env.REACT_APP_ENV !== 'real' ? React.createElement(\"button\", {\n    className: \"button dev-button\" + (isMobile ? \" mobile\" : \"\"),\n    id: \"showDevInfo\",\n    onClick: showDevInfo,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206\n    },\n    __self: this\n  }, React.createElement(FontAwesomeIcon, {\n    icon: faInfo,\n    size: \"1x\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207\n    },\n    __self: this\n  })) : null, React.createElement(SearchCurrentButton, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210\n    },\n    __self: this\n  }), React.createElement(SearchWideLocationButton, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211\n    },\n    __self: this\n  })));\n};\n\nconst Loading = props => {\n  const _useSelector5 = useSelector(state => state.map),\n        mapLoading = _useSelector5.mapLoading,\n        errorMapLoading = _useSelector5.errorMapLoading;\n\n  const loadingText = () => errorMapLoading ? \"지도를 불러오는데에 실패했습니다. 일시적인 문제일 수 있습니다. 페이지를 다시 로딩 해 주세요.\" : \"Loading...\";\n\n  const loadingSpinner = () => errorMapLoading ? React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221\n    },\n    __self: this\n  }, React.createElement(FontAwesomeIcon, {\n    icon: faTimesCircle,\n    size: \"3x\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221\n    },\n    __self: this\n  })) : React.createElement(\"h6\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222\n    },\n    __self: this\n  }, React.createElement(MapLoadingSpinner, {\n    color: MAP_LOADING_SPINNER,\n    loading: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222\n    },\n    __self: this\n  }));\n\n  return React.createElement(LoadingOverlay, {\n    fadeSpeed: 200,\n    className: \"loading-overlay box column is-full kakao-map is-fullheight-with-navbar-tablet is-fullheight-with-navbar-mobile is-paddingless\",\n    active: mapLoading || errorMapLoading,\n    spinner: loadingSpinner(),\n    text: loadingText(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224\n    },\n    __self: this\n  }, props.children);\n};\n\nexport default MoobeKakaoMap;","map":{"version":3,"sources":["/Users/nhnent/IdeaProjects/moobe/src/main/webapps/moobe-fe/src/components/common/map/MoobeKakaoMap.jsx"],"names":["React","useEffect","useState","LoadingOverlay","FontAwesomeIcon","faInfo","faSpinner","faTimesCircle","withJs","withKakaoMap","KakaoMap","useDispatch","useSelector","isMobile","MapImages","loadingGeoLocationFail","loadingGeoLocationStarted","loadingGeoLocationSuccess","setMapBounds","setMapCenter","setMapCenterChange","setMapCenterForce","setMapLevel","setSearchOnLevelChange","MapLoadingSpinner","isEmpty","_isEmpty","isNil","_isNil","GeoLocationMarker","MAP_LOADING_SPINNER","SearchCurrentButton","debounce","buildMoobeMapBounds","isSimilarLocation","unpackMoobeMapBounds","queryString","useLocation","SearchWideLocationButton","getWindowDimensions","initVH","useCookies","MOOBE_COOKIE_LAST_LOCATION_NAME","Kakao","process","env","REACT_APP_KAKAO_API_KEY","MoobeKakaoMap","props","cookies","setCookie","dispatch","state","mapClusterLocation","mapClusterLocationList","mapLocation","mapLocationList","focusedMapLocation","contentDetail","location","parse","search","query","focused","swLat","swLng","neLat","neLng","map","centerLat","centerLng","refreshCenter","mapLoading","changedCenterLat","changedCenterLng","enableGeolocation","geoLocationCenterLat","geoLocationCenterLng","geolocationLoading","mapBounds","bounds","setBounds","initialOptions","lat","lng","level","REACT_APP_INIT_MAP_LEVEL_MOBILE","REACT_APP_INIT_MAP_LEVEL","zoom","REACT_APP_INIT_MAP_CENTER_LAT","REACT_APP_INIT_MAP_CENTER_LNG","queryMapBound","buildKakaoMapBounds","store","latitude","longitude","moobeMapBounds","unpackedBounds","toggleGeolocation","setTimeout","showDevInfo","dimention","vh","height","alert","width","document","body","scrollHeight","clientHeight","documentElement","centerChange","center","getCenter","getLat","getLng","boundChange","getBounds","sw","getSouthWest","ne","getNorthEast","zoomChange","getLevel","geoLocationCenterChanged","className","Object","assign","children","backgroundImage","backgroundSize","color","REACT_APP_ENV","Loading","errorMapLoading","loadingText","loadingSpinner"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport LoadingOverlay from \"react-loading-overlay\";\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome'\nimport {faInfo, faSpinner, faTimesCircle} from '@fortawesome/free-solid-svg-icons'\nimport withJs from \"components/common/map/WithJs\";\nimport withKakaoMap from \"components/common/map/WithKakaoMap\";\nimport KakaoMap from \"components/common/map/KakaoMap\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {isMobile} from \"react-device-detect\";\nimport MapImages from \"assets/images/map_images.png\"\nimport {\n    loadingGeoLocationFail,\n    loadingGeoLocationStarted,\n    loadingGeoLocationSuccess,\n    setMapBounds,\n    setMapCenter,\n    setMapCenterChange,\n    setMapCenterForce,\n    setMapLevel,\n    setSearchOnLevelChange\n} from \"data/redux/action/map\";\nimport {MapLoadingSpinner} from \"components/common/layout/PresentUtil\";\nimport {isEmpty as _isEmpty, isNil as _isNil} from 'lodash'\nimport GeoLocationMarker from \"components/common/map/GeoLocationMarker\";\nimport {MAP_LOADING_SPINNER} from \"assets/styles/colors\";\nimport SearchCurrentButton from \"components/common/map/SearchCurrentButton\";\nimport debounce from 'lodash.debounce';\nimport {buildMoobeMapBounds, isSimilarLocation, unpackMoobeMapBounds} from \"data/util\";\nimport queryString from \"query-string\";\nimport {useLocation} from \"react-router\";\nimport SearchWideLocationButton from \"components/common/map/SearchWideLocationButton\";\nimport {getWindowDimensions, initVH} from \"components/common/layout/WindowDimensions\";\nimport {useCookies} from \"react-cookie\";\nimport {MOOBE_COOKIE_LAST_LOCATION_NAME} from \"assets/styles/const\";\n\nconst Kakao = withJs(\n    `//dapi.kakao.com/v2/maps/sdk.js?appkey=${\n        process.env.REACT_APP_KAKAO_API_KEY\n    }&libraries=services,clusterer,drawing&autoload=false`\n)(withKakaoMap(KakaoMap));\n\n\nconst MoobeKakaoMap = (props) => {\n    const [cookies, setCookie] = useCookies([MOOBE_COOKIE_LAST_LOCATION_NAME])\n    const dispatch = useDispatch();\n    const {mapClusterLocationList} = useSelector(state => state.mapClusterLocation)\n    const {mapLocationList, focusedMapLocation} = useSelector(state => state.mapLocation)\n    const {contentDetail} = useSelector(state => state.contentDetail)\n    const location = useLocation();\n    const {query, focused, swLat, swLng, neLat, neLng} = queryString.parse(location.search);\n    const {\n        centerLat,\n        centerLng,\n        refreshCenter,\n        mapLoading,\n        changedCenterLat,\n        changedCenterLng,\n        enableGeolocation,\n        geoLocationCenterLat,\n        geoLocationCenterLng,\n        geolocationLoading,\n        mapBounds} = useSelector(state => state.map);\n    const [bounds, setBounds] = useState(null);\n    const initialOptions = {\n        lat: centerLat,\n        lng: centerLng,\n        level: (isMobile ? process.env.REACT_APP_INIT_MAP_LEVEL_MOBILE : process.env.REACT_APP_INIT_MAP_LEVEL) || 13,\n        refreshCenter: refreshCenter,\n        zoom: props.zoom ? props.zoom : \"TOPRIGHT\"\n    };\n\n    // 초기 center, query param으로 부터 lat,lng받아서 map bounds 셋팅, map loading start\n    useEffect(() => {\n        dispatch(setMapCenter({lat: process.env.REACT_APP_INIT_MAP_CENTER_LAT, lng:process.env.REACT_APP_INIT_MAP_CENTER_LNG}));\n        let queryMapBound = buildMoobeMapBounds(swLat, swLng, neLat, neLng);\n        if (!_isNil(queryMapBound)) {\n            setBounds(buildKakaoMapBounds(queryMapBound));\n            dispatch(setMapBounds(unpackMoobeMapBounds(queryMapBound)))\n        }\n        dispatch(setSearchOnLevelChange(true)) //initial get cluster location after map level set.\n        return () => {\n            dispatch(loadingGeoLocationFail()); // reset geolocation\n        }\n    }, []);\n\n    useEffect(() => {\n        if (isMobile) {\n            return ;\n        }\n        if (!_isEmpty(contentDetail)) {\n            return ;\n        }\n        let queryMapBound = buildMoobeMapBounds(swLat, swLng, neLat, neLng);\n        if (!_isNil(queryMapBound)) {\n            setBounds(buildKakaoMapBounds(queryMapBound));\n            dispatch(setMapBounds(unpackMoobeMapBounds(queryMapBound)))\n        }\n    }, [contentDetail, swLat, swLng, neLat, neLng])\n\n    useEffect(() => {\n        if (!isMobile) {\n            return ;\n        }\n        if (!_isEmpty(focusedMapLocation)) {\n            return ;\n        }\n        let queryMapBound = buildMoobeMapBounds(swLat, swLng, neLat, neLng);\n        if (!_isNil(queryMapBound)) {\n            setBounds(buildKakaoMapBounds(queryMapBound));\n            dispatch(setMapBounds(unpackMoobeMapBounds(queryMapBound)))\n        }\n    }, [focusedMapLocation, swLat, swLng, neLat, neLng])\n\n    //desktop: map이 loading되어 있고 content detail이 load될 때 content의 center로 map center change\n    useEffect(() => {\n        if (!isMobile && !_isEmpty(contentDetail) && !mapLoading) {\n            dispatch(setMapCenterForce({lat: contentDetail.store.latitude, lng: contentDetail.store.longitude}));\n        }\n    }, [contentDetail, mapLoading]);\n\n    //mobile: map이 loading되어 있고 focusedMapLocation이 load될 때 location center로 map center change\n    useEffect(() => {\n        if (isMobile && !_isEmpty(focusedMapLocation) && !mapLoading) {\n            dispatch(setMapCenterForce({lat: focusedMapLocation.latitude, lng: focusedMapLocation.longitude}));\n        }\n    }, [focusedMapLocation, mapLoading]);\n\n    const buildKakaoMapBounds = (moobeMapBounds) => {\n        const unpackedBounds = unpackMoobeMapBounds(moobeMapBounds);\n        if (!_isNil(unpackedBounds)) {\n            return [{lat: unpackedBounds.swLat, lng: unpackedBounds.swLng}, {lat: unpackedBounds.neLat, lng: unpackedBounds.neLng}];\n        } else {\n            return null;\n        }\n    };\n\n    const toggleGeolocation = () => {\n        dispatch(loadingGeoLocationStarted());\n        if(enableGeolocation) {\n            dispatch(loadingGeoLocationFail()); //call force failed to disable geolocation for a moment\n            setTimeout(() => {\n                dispatch(loadingGeoLocationSuccess());\n            }, 500) //delay for geo marker unmount\n        } else {\n            setTimeout(() => {\n                dispatch(loadingGeoLocationSuccess());\n            }, 200) //delay for user wait\n\n        }\n    };\n\n    const showDevInfo = () => {\n        initVH()\n        const dimention = getWindowDimensions()\n\n        const vh = getWindowDimensions().height * 0.01;\n        alert(\"width : \" + dimention.width + \"\\n\" +\n            \"height : \" + dimention.height + \"\\n\" +\n            \"vh : \" + vh + \"\\n\" +\n            \"document.body.scrollHeight : \" + document.body.scrollHeight + \"\\n\" +\n            \"document.body.clientHeight : \" + document.body.clientHeight + \"\\n\" +\n            \"document.documentElement.scrollHeight : \" + document.documentElement.scrollHeight + \"\\n\" +\n            \"document.documentElement.clientHeight : \" + document.documentElement.clientHeight + \"\\n\" +\n            \"document.height : \" + document.height + \"\\n\"\n        )\n    }\n\n    //every map center changed, save changed center and bounds for search current location\n    const centerChange = (map) => {\n        let center = map.getCenter();\n        dispatch(setMapCenterChange({lat: center.getLat(), lng: center.getLng()}));\n    };\n\n    const boundChange = (map) => {\n        let bounds = map.getBounds();\n        let sw = bounds.getSouthWest(), ne = bounds.getNorthEast();\n        dispatch(setMapBounds({swLat: sw.getLat(), swLng: sw.getLng(), neLat: ne.getLat(), neLng: ne.getLng()}));\n    };\n\n    const zoomChange = (map) => {\n        dispatch(setMapLevel(map.getLevel()));\n    }\n\n    const geoLocationCenterChanged = () => {\n        return !isSimilarLocation({lat: changedCenterLat, lng: changedCenterLng}, {lat: geoLocationCenterLat, lng: geoLocationCenterLng})\n    }\n    return (\n        <>\n            <Loading>\n                <Kakao className={props.className}\n                        options={Object.assign(initialOptions, {zoom: props.zoom}, {bounds}, {refreshCenter})}\n                        onZoomChange={debounce(zoomChange, 100)}\n                        onCenterChange={debounce(centerChange, 100)}\n                        onBoundsChange={debounce(boundChange, 100)}>\n                    {props.children}\n                    {enableGeolocation ? <GeoLocationMarker/> : null}\n                </Kakao>\n                <button style={{\n                    backgroundImage: geolocationLoading ? \"\" : 'url(' + MapImages + ')',\n                    backgroundSize: \"453px 434px\",\n                    color: geolocationLoading ? \"\" : \"transparent\"\n                }} className={\"button geo-button\" + (isMobile ? \" mobile\" : \"\") + (enableGeolocation && !geoLocationCenterChanged() ? \" active\" : \"\")} onClick={toggleGeolocation}>\n                    {geolocationLoading ? <FontAwesomeIcon className=\"fast-spin\" icon={faSpinner} size={\"lg\"}/> : null }\n                </button>\n                {process.env.REACT_APP_ENV !== 'real'\n                ? <button className={\"button dev-button\"  + (isMobile ? \" mobile\" : \"\")} id={\"showDevInfo\"} onClick={showDevInfo} >\n                        <FontAwesomeIcon icon={faInfo} size={\"1x\"} />\n                    </button>\n                : null}\n                <SearchCurrentButton />\n                <SearchWideLocationButton />\n\n            </Loading>\n        </>\n    )\n};\n\nconst Loading = (props) => {\n    const {mapLoading, errorMapLoading} = useSelector(state => state.map);\n    const loadingText = () => errorMapLoading ? \"지도를 불러오는데에 실패했습니다. 일시적인 문제일 수 있습니다. 페이지를 다시 로딩 해 주세요.\" : \"Loading...\";\n    const loadingSpinner = () => errorMapLoading ? <h2><FontAwesomeIcon icon={faTimesCircle} size='3x' /></h2>\n        : <h6><MapLoadingSpinner color={MAP_LOADING_SPINNER} loading={true} /></h6>;\n    return (\n        <LoadingOverlay\n            fadeSpeed={200}\n            className={\"loading-overlay box column is-full kakao-map is-fullheight-with-navbar-tablet is-fullheight-with-navbar-mobile is-paddingless\"}\n            active={mapLoading || errorMapLoading}\n            spinner={loadingSpinner()}\n            text={loadingText()}\n        >\n            {props.children}\n        </LoadingOverlay>\n    )\n};\n\nexport default MoobeKakaoMap;"]},"metadata":{},"sourceType":"module"}