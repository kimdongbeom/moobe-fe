{"ast":null,"code":"import _slicedToArray from \"/Users/nhnent/IdeaProjects/moobe/src/main/webapps/moobe-fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/nhnent/IdeaProjects/moobe/src/main/webapps/moobe-fe/src/components/admin/MetaRegistForm.jsx\";\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { authorizeUser, requireUser } from \"data/redux/action/user\";\nimport { buildUrl, updateObject } from \"data/util\";\nimport { useHistory } from \"react-router\";\nimport { isEmpty as _isEmpty, isNil as _isNil } from \"lodash\";\nimport { fetchChannel } from \"data/redux/action/channel\";\nimport VideoAdSense from \"components/google/VideoAdSense\";\nimport FavoriteContentAdSense from \"components/google/FavoriteContentAdSense\";\nimport StoreAdSense from \"components/google/StoreAdSense\";\n\nconst InputField = props => React.createElement(React.Fragment, null, React.createElement(\"div\", {\n  className: \"field is-horizontal\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 14\n  },\n  __self: this\n}, React.createElement(\"div\", {\n  className: \"field-label is-normal\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 15\n  },\n  __self: this\n}, React.createElement(\"label\", {\n  className: \"label\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 16\n  },\n  __self: this\n}, props.fieldName)), React.createElement(\"div\", {\n  className: \"field-body\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 18\n  },\n  __self: this\n}, React.createElement(\"div\", {\n  className: \"field\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 19\n  },\n  __self: this\n}, React.createElement(\"p\", {\n  className: \"control is-expanded\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 20\n  },\n  __self: this\n}, React.createElement(\"input\", {\n  className: \"input\",\n  name: props.name,\n  type: \"text\",\n  placeholder: props.placeholder,\n  value: props.value,\n  onChange: props.onChange,\n  disabled: props.disabled ? props.disabled : false,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 21\n  },\n  __self: this\n}))))));\n\nconst SelectField = props => React.createElement(React.Fragment, null, React.createElement(\"div\", {\n  className: \"field is-horizontal\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 29\n  },\n  __self: this\n}, React.createElement(\"div\", {\n  className: \"field-label is-normal\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 30\n  },\n  __self: this\n}, React.createElement(\"label\", {\n  className: \"label\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 31\n  },\n  __self: this\n}, props.fieldName)), React.createElement(\"div\", {\n  className: \"field-body\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 33\n  },\n  __self: this\n}, React.createElement(\"div\", {\n  className: \"field\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 34\n  },\n  __self: this\n}, React.createElement(\"p\", {\n  className: \"control is-expanded select is-multiple is-full-width\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 35\n  },\n  __self: this\n}, React.createElement(\"select\", {\n  multiple: true,\n  className: \"is-full-width has-text-centered\",\n  size: \"3\",\n  name: props.name,\n  onChange: props.onChange,\n  disabled: props.disabled ? props.disabled : false,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 36\n  },\n  __self: this\n}, props.children))))));\n\nconst MetaRegistForm = () => {\n  const initialState = {\n    newChannelLink: '',\n    newChannelName: '',\n    newChannelCategory: '',\n    newChannelImgLink: '',\n    youtubeName: '',\n    youtubeContentsLink: '',\n    contentsTitle: '',\n    registerDate: '',\n    tag: '',\n    store: '',\n    storeName: '',\n    tel: '',\n    address1: '',\n    address2: '',\n    link: '',\n    latitude: '',\n    longitude: '',\n    availableTime: '' // menu: 'menu'\n\n  };\n\n  const _useState = useState(initialState),\n        _useState2 = _slicedToArray(_useState, 2),\n        state = _useState2[0],\n        setState = _useState2[1];\n\n  const _useState3 = useState(\"\"),\n        _useState4 = _slicedToArray(_useState3, 2),\n        resultText = _useState4[0],\n        setResultText = _useState4[1];\n\n  const _useState5 = useState({\n    server: null,\n    youtubeLink: null,\n    rawContent: null,\n    loading: false\n  }),\n        _useState6 = _slicedToArray(_useState5, 2),\n        puppetInfo = _useState6[0],\n        setPuppetInfo = _useState6[1];\n\n  const _useState7 = useState(false),\n        _useState8 = _slicedToArray(_useState7, 2),\n        fixChannel = _useState8[0],\n        setFixChannel = _useState8[1];\n\n  const _useState9 = useState(false),\n        _useState10 = _slicedToArray(_useState9, 2),\n        disableInput = _useState10[0],\n        setDisableInput = _useState10[1];\n\n  const _useSelector = useSelector(state => state.user),\n        user = _useSelector.user;\n\n  const _useSelector2 = useSelector(state => state.channel),\n        channelList = _useSelector2.channelList;\n\n  const dispatch = useDispatch();\n  const history = useHistory();\n  useEffect(() => {\n    dispatch(authorizeUser(() => {\n      dispatch(requireUser());\n      dispatch(fetchChannel());\n    }, () => history.replace(\"/\")));\n  }, []);\n\n  const handleChangeInput = ev => {\n    const inputName = ev.target.name;\n    setState(updateObject(state, {\n      [inputName]: ev.target.value\n    }));\n  };\n\n  async function getYoutubeMeta(ev) {\n    const serverUrl = puppetInfo.server;\n    const youtubeLink = puppetInfo.youtubeLink;\n\n    if (serverUrl && youtubeLink) {\n      setPuppetInfo(updateObject(puppetInfo, {\n        loading: true\n      }));\n      const vId = youtubeLink.split(\"v=\")[1].split(\"&\")[0];\n      axios.get(`${serverUrl}/youtube?v=${vId}`).then(r => {\n        setState(updateObject(state, {\n          youtubeContentsLink: youtubeLink\n        }));\n        const data = r.data;\n        setState(updateObject(state, {\n          youtubeContentsLink: ifNullEmpty(youtubeLink),\n          contentsTitle: ifNullEmpty(data.title),\n          registerDate: filterDateText(ifNullEmpty(data.date)),\n          tag: ifNullEmpty(data.tag)\n        }));\n        setPuppetInfo(updateObject(puppetInfo, {\n          rawContent: ifNullEmpty(data.content)\n        }));\n        console.log(r.data);\n      }).catch(e => alert(e)).finally(() => setPuppetInfo(updateObject(puppetInfo, {\n        loading: false\n      })));\n    } else {\n      alert(\"server url or youtube link not exist\");\n    }\n  }\n\n  const handleClick = ev => {\n    const storeName = state.store;\n    setDisableInput(true);\n    axios.get(buildUrl(\"/admin/getStore?store=\" + storeName), {\n      withCredentials: true\n    }).then(response => {\n      const data = response.data;\n      console.log(data);\n\n      if (_isEmpty(data)) {\n        alert(\"주소 확인 실패\");\n      } else {\n        setState(updateObject(state, {\n          storeName: ifNullEmpty(data.name),\n          tel: ifNullEmpty(data.tel),\n          address1: ifNullEmpty(data.address1),\n          address2: ifNullEmpty(data.address2),\n          link: ifNullEmpty(data.link),\n          latitude: ifNullEmpty(data.latitude),\n          longitude: ifNullEmpty(data.longitude),\n          availableTime: ifNullEmpty(data.availableTime)\n        }));\n      }\n    }).finally(() => {\n      setDisableInput(false);\n    });\n    ev.stopPropagation();\n  };\n\n  const modifyLink = ev => {\n    const storeName = state.storeName;\n    const storeLink = state.link;\n\n    if (_isEmpty(storeName) || _isEmpty(storeLink)) {\n      alert(\"storeName이나 storeLink가 없습니다. storeName \" + storeName + \" storeLink \" + storeLink);\n      return;\n    }\n\n    console.log(encodeURI(storeLink));\n    setDisableInput(true);\n    axios.get(buildUrl(\"/admin/getStoreByLink?store=\" + storeName + \"&link=\" + encodeURIComponent(storeLink)), {\n      withCredentials: true\n    }).then(response => {\n      const data = response.data;\n      console.log(data);\n\n      if (_isEmpty(data)) {\n        alert(\"주소 확인 실패\");\n      } else {\n        setState(updateObject(state, {\n          storeName: ifNullEmpty(data.name),\n          tel: ifNullEmpty(data.tel),\n          address1: ifNullEmpty(data.address1),\n          address2: ifNullEmpty(data.address2),\n          link: ifNullEmpty(data.link),\n          latitude: ifNullEmpty(data.latitude),\n          longitude: ifNullEmpty(data.longitude),\n          availableTime: ifNullEmpty(data.availableTime)\n        }));\n      }\n    }).finally(() => {\n      setDisableInput(false);\n    });\n    ev.stopPropagation();\n  };\n\n  const handleSubmit = ev => {\n    ev.preventDefault();\n    const data = new FormData(ev.target.form);\n\n    for (let key of data.keys()) {\n      console.log(key, \": \", data.get(key));\n    }\n\n    setDisableInput(true);\n    axios.post(buildUrl(\"/admin/contentsForm\"), data, {\n      withCredentials: true\n    }).then(response => {\n      if (response.data === \"success\") {\n        alert(\"정상적으로 등록되었습니다.\");\n\n        if (fixChannel) {\n          setState(updateObject(initialState, {\n            youtubeName: state.youtubeName\n          }));\n        } else {\n          setState(initialState);\n        }\n      } else {\n        alert(\"등록에 실패하였습니다.\");\n      }\n    }).finally(() => {\n      setDisableInput(false);\n    });\n  };\n\n  const handleDateText = ev => {\n    const inputName = ev.target.name;\n    setState(updateObject(state, {\n      [inputName]: filterDateText(ev.target.value)\n    }));\n  };\n\n  const filterDateText = v => {\n    let value = v;\n\n    if (value.indexOf(\"•\") !== -1) {\n      value = value.split(\"•\")[1];\n    }\n\n    if (value.indexOf(\":\") !== -1) {\n      value = value.split(\":\")[1];\n    }\n\n    return value.trim();\n  };\n\n  const modifyLocation = address => {\n    setDisableInput(true);\n    axios.get(buildUrl(\"/admin/getLocation?address=\" + address), {\n      withCredentials: true\n    }).then(response => {\n      const data = response.data;\n      console.log(data);\n\n      if (_isEmpty(data)) {\n        alert(\"주소 확인 실패\");\n      } else {\n        setState(updateObject(state, {\n          latitude: ifNullEmpty(data.latitude),\n          longitude: ifNullEmpty(data.longitude)\n        }));\n      }\n    }).finally(() => {\n      setDisableInput(false);\n    });\n  };\n\n  const ifNullEmpty = v => {\n    return _isNil(v) ? '' : v;\n  };\n\n  const handleClearCache = text => {\n    setResultText(text);\n    axios.get(buildUrl(\"/init/all/cache\"), {\n      withCredentials: true\n    }).then(response => {\n      if (response.status == 200) {\n        setResultText(text + \" 성공\");\n      } else {\n        setResultText(text + \" 실패 : \" + response.status);\n      }\n    }).catch(e => {\n      setResultText(text + \" 실패 : \" + e);\n    });\n  };\n\n  const checkChannelLink = ev => {\n    const newChannelLink = state.newChannelLink;\n    axios.get(buildUrl(\"/admin/check/channelLink?link=\" + encodeURIComponent(newChannelLink)), {\n      withCredentials: true\n    }).then(response => {\n      const data = response.data;\n\n      if (response.status == 200) {\n        setState(updateObject(state, {\n          newChannelYoutubeId: ifNullEmpty(data.youtubeId),\n          newChannelName: ifNullEmpty(data.youtubeName),\n          newChannelImgLink: ifNullEmpty(data.profileImg)\n        }));\n      } else {\n        alert(\"채널 링크를 다시 확인해주세요!\");\n        setState(updateObject(state, {\n          newChannelLink: ''\n        }));\n      }\n    });\n  };\n\n  const addChannel = ev => {\n    ev.stopPropagation();\n  };\n\n  return React.createElement(React.Fragment, null, _isNil(user) ? null : React.createElement(React.Fragment, null, React.createElement(InputField, {\n    fieldName: \"ProxyServer\",\n    disabled: puppetInfo.loading,\n    value: puppetInfo.server,\n    onChange: e => setPuppetInfo(Object.assign({}, puppetInfo, {\n      server: e.target.value\n    })),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283\n    },\n    __self: this\n  }), puppetInfo.server ? React.createElement(React.Fragment, null, React.createElement(\"a\", {\n    disabled: puppetInfo.loading,\n    className: \"button is-success is-pulled-right\",\n    onClick: e => getYoutubeMeta(e),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286\n    },\n    __self: this\n  }, \"\\uC815\\uBCF4 \\uB85C\\uB4DC\"), React.createElement(InputField, {\n    disabled: puppetInfo.loading,\n    fieldName: \"YoutubeLink\",\n    value: puppetInfo.youtubeLink,\n    onChange: e => setPuppetInfo(Object.assign({}, puppetInfo, {\n      youtubeLink: e.target.value\n    })),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"field is-horizontal\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"field-label is-normal\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"label\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290\n    },\n    __self: this\n  }, \"RawContents\")), React.createElement(\"div\", {\n    className: \"field-body\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 292\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"field\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 293\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    className: \"control is-expanded\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294\n    },\n    __self: this\n  }, React.createElement(\"textarea\", {\n    disabled: puppetInfo.loading,\n    rows: 10,\n    className: \"textarea\",\n    value: puppetInfo.rawContent,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 295\n    },\n    __self: this\n  }))))), React.createElement(\"hr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 300\n    },\n    __self: this\n  })) : null, React.createElement(\"form\", {\n    className: \"columns\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"column\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306\n    },\n    __self: this\n  }, React.createElement(InputField, {\n    disabled: disableInput,\n    fieldName: \"\\uCD94\\uAC00\\uD560 \\uCC44\\uB110 \\uB9C1\\uD06C\",\n    name: \"newChannelLink\",\n    placeholder: \"ex : https://www.youtube.com/channel/UCXHt0mdmd-VIv8SuD6bhdZA\",\n    value: state.newChannelLink,\n    onChange: handleChangeInput,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    disabled: disableInput,\n    className: \"button is-success is-pulled-right\",\n    type: \"button\",\n    onClick: checkChannelLink,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308\n    },\n    __self: this\n  }, \"\\uCC44\\uB110\\uB9C1\\uD06C\\uD655\\uC778\")), React.createElement(\"div\", {\n    className: \"column\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 310\n    },\n    __self: this\n  }, React.createElement(InputField, {\n    disabled: disableInput,\n    fieldName: \"\\uCD94\\uAC00\\uD560 \\uCC44\\uB110\\uBA85\",\n    placeholder: \"\\uCD94\\uAC00\\uD560 \\uCC44\\uB110 \\uC774\\uB984\",\n    value: state.newChannelName,\n    onChange: handleChangeInput,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 311\n    },\n    __self: this\n  }), React.createElement(InputField, {\n    disabled: disableInput,\n    fieldName: \"\\uCC44\\uB110 \\uCE74\\uD14C\\uACE0\\uB9AC\",\n    placeholder: \"\\uCC44\\uB110 \\uCE74\\uD14C\\uACE0\\uB9AC\",\n    value: state.newChannelCategory,\n    onChange: handleChangeInput,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 312\n    },\n    __self: this\n  }), React.createElement(InputField, {\n    disabled: disableInput,\n    fieldName: \"\\uD504\\uB85C\\uD544\\uC774\\uBBF8\\uC9C0\\uC8FC\\uC18C\",\n    placeholder: \"\\uCC44\\uB110 \\uD504\\uB85C\\uD544 \\uC774\\uBBF8\\uC9C0 \\uC8FC\\uC18C\",\n    value: state.newChannelImgLink,\n    onChange: handleChangeInput,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 313\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    disabled: disableInput,\n    className: \"button is-primary is-pulled-right\",\n    type: \"button\",\n    onClick: addChannel,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 314\n    },\n    __self: this\n  }, \"\\uCC44\\uB110\\uCD94\\uAC00\"))), React.createElement(\"form\", {\n    className: \"columns\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 319\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"column\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 320\n    },\n    __self: this\n  }, _isEmpty(channelList) ? React.createElement(InputField, {\n    disabled: disableInput,\n    fieldName: \"\\uC720\\uD22C\\uBC84\\uC774\\uB984\",\n    name: \"youtubeName\",\n    placeholder: \"\\uC720\\uD22C\\uBC84\\uC774\\uB984\",\n    value: state.youtubeName,\n    onChange: handleChangeInput,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 322\n    },\n    __self: this\n  }) : React.createElement(React.Fragment, null, React.createElement(SelectField, {\n    disabled: disableInput,\n    fieldName: \"\\uC720\\uD22C\\uBC84\\uC774\\uB984\",\n    name: \"youtubeName\",\n    onChange: handleChangeInput,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 324\n    },\n    __self: this\n  }, channelList.map(c => React.createElement(\"option\", {\n    key: c.youtubeName,\n    value: c.youtubeName,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 325\n    },\n    __self: this\n  }, c.youtubeName))), React.createElement(\"div\", {\n    style: {\n      marginTop: \"-0.75rem\",\n      textAlign: \"right\",\n      marginBottom: \"0.75rem\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 327\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"checkbox\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 332\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    className: \"has-margin-right-5\",\n    type: \"checkbox\",\n    onChange: e => setFixChannel(e.target.checked),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 333\n    },\n    __self: this\n  }), \"\\uCC44\\uB110 \\uACE0\\uC815\"))), React.createElement(InputField, {\n    disabled: disableInput,\n    fieldName: \"\\uC601\\uC0C1\\uB9C1\\uD06C\",\n    name: \"youtubeContentsLink\",\n    placeholder: \"\\uC601\\uC0C1\\uB9C1\\uD06C\",\n    value: state.youtubeContentsLink,\n    onChange: handleChangeInput,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 339\n    },\n    __self: this\n  }), React.createElement(InputField, {\n    disabled: disableInput,\n    fieldName: \"\\uCEE8\\uD150\\uCE20\\uC81C\\uBAA9\",\n    name: \"contentsTitle\",\n    placeholder: \"\\uCEE8\\uD150\\uCE20\\uC81C\\uBAA9\",\n    value: state.contentsTitle,\n    onChange: handleChangeInput,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 340\n    },\n    __self: this\n  }), React.createElement(InputField, {\n    disabled: disableInput,\n    fieldName: \"\\uCEE8\\uD150\\uCE20\\uB4F1\\uB85D\\uB0A0\\uC9DC\",\n    name: \"registerDate\",\n    placeholder: \"\\uB4F1\\uB85D\\uB0A0\\uC9DC\",\n    value: state.registerDate,\n    onChange: handleDateText,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 341\n    },\n    __self: this\n  }), React.createElement(InputField, {\n    disabled: disableInput,\n    fieldName: \"\\uD0DC\\uADF8\",\n    name: \"tag\",\n    placeholder: \"\\uD0DC\\uADF8\",\n    value: state.tag,\n    onChange: handleChangeInput,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 342\n    },\n    __self: this\n  }), React.createElement(InputField, {\n    disabled: disableInput,\n    fieldName: \"\\uC2DD\\uB2F9\\uC815\\uBCF4\",\n    name: \"store\",\n    placeholder: \"\\uC2DD\\uB2F9\\uC815\\uBCF4\",\n    value: state.store,\n    onChange: handleChangeInput,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 343\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    disabled: disableInput,\n    className: \"button is-primary is-pulled-right\",\n    type: \"button\",\n    onClick: handleClick,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 344\n    },\n    __self: this\n  }, \"\\uC8FC\\uC18C \\uD655\\uC778\")), React.createElement(\"div\", {\n    className: \"column\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 346\n    },\n    __self: this\n  }, React.createElement(InputField, {\n    disabled: disableInput,\n    fieldName: \"\\uAC00\\uAC8C\\uC774\\uB984\",\n    name: \"storeName\",\n    placeholder: \"\\uAC00\\uAC8C\\uC774\\uB984\",\n    value: state.storeName,\n    onChange: handleChangeInput,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 347\n    },\n    __self: this\n  }), React.createElement(InputField, {\n    disabled: disableInput,\n    fieldName: \"\\uC804\\uD654\\uBC88\\uD638\",\n    name: \"tel\",\n    placeholder: \"\\uC804\\uD654\\uBC88\\uD638\",\n    value: state.tel,\n    onChange: handleChangeInput,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 348\n    },\n    __self: this\n  }), React.createElement(\"a\", {\n    className: \"button is-success is-pulled-right\",\n    onClick: e => modifyLocation(state.address1),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 349\n    },\n    __self: this\n  }, \"\\uC704/\\uACBD\\uB3C4 \\uC218\\uC815\"), React.createElement(InputField, {\n    disabled: disableInput,\n    fieldName: \"\\uC8FC\\uC18C1\",\n    name: \"address1\",\n    placeholder: \"\\uC8FC\\uC18C1\",\n    value: state.address1,\n    onChange: handleChangeInput,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 350\n    },\n    __self: this\n  }), React.createElement(\"a\", {\n    className: \"button is-success is-pulled-right\",\n    onClick: e => modifyLocation(state.address2),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 351\n    },\n    __self: this\n  }, \"\\uC704/\\uACBD\\uB3C4 \\uC218\\uC815\"), React.createElement(InputField, {\n    disabled: disableInput,\n    fieldName: \"\\uC8FC\\uC18C2\",\n    name: \"address2\",\n    placeholder: \"\\uC8FC\\uC18C2\",\n    value: state.address2,\n    onChange: handleChangeInput,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 352\n    },\n    __self: this\n  }), React.createElement(\"a\", {\n    className: \"button is-success is-pulled-right\",\n    onClick: modifyLink,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 353\n    },\n    __self: this\n  }, \"\\uB9C1\\uD06C \\uC218\\uC815\"), React.createElement(\"a\", {\n    href: state.link,\n    target: \"_blank\",\n    className: \"button is-link is-pulled-right\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 354\n    },\n    __self: this\n  }, \"\\uB9C1\\uD06C \\uD655\\uC778\"), React.createElement(InputField, {\n    disabled: disableInput,\n    fieldName: \"\\uB9C1\\uD06C\",\n    name: \"link\",\n    placeholder: \"\\uB9C1\\uD06C\",\n    value: state.link,\n    onChange: handleChangeInput,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 355\n    },\n    __self: this\n  }), React.createElement(InputField, {\n    disabled: disableInput,\n    fieldName: \"\\uC704\\uB3C4\",\n    name: \"latitude\",\n    placeholder: \"\\uC704\\uB3C4\",\n    value: state.latitude,\n    onChange: handleChangeInput,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 357\n    },\n    __self: this\n  }), React.createElement(InputField, {\n    disabled: disableInput,\n    fieldName: \"\\uACBD\\uB3C4\",\n    name: \"longitude\",\n    placeholder: \"\\uACBD\\uB3C4\",\n    value: state.longitude,\n    onChange: handleChangeInput,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 358\n    },\n    __self: this\n  }), React.createElement(InputField, {\n    disabled: disableInput,\n    fieldName: \"\\uC601\\uC5C5 \\uC2DC\\uAC04\",\n    name: \"availableTime\",\n    placeholder: \"\\uC601\\uC5C5 \\uC2DC\\uAC04\",\n    value: state.availableTime,\n    onChange: handleChangeInput,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 359\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    disabled: disableInput,\n    className: \"button is-primary is-pulled-right\",\n    type: \"submit\",\n    onClick: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 360\n    },\n    __self: this\n  }, \"\\uC800\\uC7A5\"))), React.createElement(\"div\", {\n    className: \"row is-vertical\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 363\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    className: \"column is-size-5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 364\n    },\n    __self: this\n  }, \"\\uAE30\\uB2A5 \\uBC84\\uD2BC\"), React.createElement(\"div\", {\n    className: \"column is-top-paddingless\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 365\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"button is-primary is-outlined\",\n    onClick: e => handleClearCache(\"캐시 삭제\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 366\n    },\n    __self: this\n  }, \"\\uCE90\\uC2DC \\uC0AD\\uC81C\")), React.createElement(\"div\", {\n    className: \"column is-top-paddingless\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 368\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"box\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 369\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 370\n    },\n    __self: this\n  }, resultText))))));\n};\n\nexport default MetaRegistForm;","map":{"version":3,"sources":["/Users/nhnent/IdeaProjects/moobe/src/main/webapps/moobe-fe/src/components/admin/MetaRegistForm.jsx"],"names":["React","useEffect","useState","axios","useDispatch","useSelector","authorizeUser","requireUser","buildUrl","updateObject","useHistory","isEmpty","_isEmpty","isNil","_isNil","fetchChannel","VideoAdSense","FavoriteContentAdSense","StoreAdSense","InputField","props","fieldName","name","placeholder","value","onChange","disabled","SelectField","children","MetaRegistForm","initialState","newChannelLink","newChannelName","newChannelCategory","newChannelImgLink","youtubeName","youtubeContentsLink","contentsTitle","registerDate","tag","store","storeName","tel","address1","address2","link","latitude","longitude","availableTime","state","setState","resultText","setResultText","server","youtubeLink","rawContent","loading","puppetInfo","setPuppetInfo","fixChannel","setFixChannel","disableInput","setDisableInput","user","channel","channelList","dispatch","history","replace","handleChangeInput","ev","inputName","target","getYoutubeMeta","serverUrl","vId","split","get","then","r","data","ifNullEmpty","title","filterDateText","date","content","console","log","catch","e","alert","finally","handleClick","withCredentials","response","stopPropagation","modifyLink","storeLink","encodeURI","encodeURIComponent","handleSubmit","preventDefault","FormData","form","key","keys","post","handleDateText","v","indexOf","trim","modifyLocation","address","handleClearCache","text","status","checkChannelLink","newChannelYoutubeId","youtubeId","profileImg","addChannel","Object","assign","map","c","marginTop","textAlign","marginBottom","checked"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport axios from 'axios';\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {authorizeUser, requireUser} from \"data/redux/action/user\";\nimport {buildUrl, updateObject} from \"data/util\";\nimport {useHistory} from \"react-router\";\nimport {isEmpty as _isEmpty, isNil as _isNil} from \"lodash\";\nimport {fetchChannel} from \"data/redux/action/channel\";\nimport VideoAdSense from \"components/google/VideoAdSense\";\nimport FavoriteContentAdSense from \"components/google/FavoriteContentAdSense\";\nimport StoreAdSense from \"components/google/StoreAdSense\";\n\nconst InputField = (props) => <>\n    <div className=\"field is-horizontal\">\n        <div className=\"field-label is-normal\">\n            <label className=\"label\">{props.fieldName}</label>\n        </div>\n        <div className=\"field-body\">\n            <div className=\"field\">\n                <p className=\"control is-expanded\">\n                    <input className=\"input\" name={props.name} type=\"text\" placeholder={props.placeholder} value={props.value} onChange={props.onChange} disabled={props.disabled ? props.disabled : false} />\n                </p>\n            </div>\n        </div>\n    </div>\n</>\n\nconst SelectField = (props) => <>\n    <div className=\"field is-horizontal\">\n        <div className=\"field-label is-normal\">\n            <label className=\"label\">{props.fieldName}</label>\n        </div>\n        <div className=\"field-body\">\n            <div className=\"field\">\n                <p className=\"control is-expanded select is-multiple is-full-width\">\n                    <select multiple className=\"is-full-width has-text-centered\" size=\"3\" name={props.name} onChange={props.onChange} disabled={props.disabled ? props.disabled : false}>\n                        {props.children}\n                    </select>\n                </p>\n            </div>\n        </div>\n    </div>\n</>\nconst MetaRegistForm = () => {\n    const initialState = {\n        newChannelLink: '',\n        newChannelName: '',\n        newChannelCategory: '',\n        newChannelImgLink: '',\n        youtubeName: '',\n        youtubeContentsLink: '',\n        contentsTitle: '',\n        registerDate: '',\n        tag: '',\n        store: '',\n        storeName: '',\n        tel: '',\n        address1: '',\n        address2: '',\n        link: '',\n        latitude: '',\n        longitude: '',\n        availableTime: ''\n        // menu: 'menu'\n    }\n    const [state, setState] = useState(initialState);\n    const [resultText, setResultText] = useState(\"\");\n    const [puppetInfo, setPuppetInfo] = useState({server: null, youtubeLink: null, rawContent: null, loading: false});\n    const [fixChannel, setFixChannel] = useState(false);\n    const [disableInput, setDisableInput] = useState(false);\n    const {user} = useSelector(state => state.user)\n    const {channelList} = useSelector(state => state.channel);\n    const dispatch = useDispatch();\n    const history = useHistory();\n\n    useEffect(() => {\n        dispatch(authorizeUser(() => {\n            dispatch(requireUser())\n            dispatch(fetchChannel())\n        },() => history.replace(\"/\")));\n    }, []);\n\n    const handleChangeInput = (ev) => {\n        const inputName = ev.target.name;\n        setState(updateObject(state, {[inputName]: ev.target.value}));\n    }\n\n    async function getYoutubeMeta(ev) {\n        const serverUrl = puppetInfo.server\n        const youtubeLink = puppetInfo.youtubeLink\n        if (serverUrl && youtubeLink) {\n            setPuppetInfo(updateObject(puppetInfo, {loading: true}));\n            const vId = youtubeLink.split(\"v=\")[1].split(\"&\")[0];\n            axios.get(`${serverUrl}/youtube?v=${vId}`).then(r => {\n                setState(updateObject(state, {youtubeContentsLink: youtubeLink}))\n                const data = r.data\n                setState(updateObject(state,{\n                    youtubeContentsLink: ifNullEmpty(youtubeLink),\n                    contentsTitle: ifNullEmpty(data.title),\n                    registerDate: filterDateText(ifNullEmpty(data.date)),\n                    tag: ifNullEmpty(data.tag),\n                }));\n                setPuppetInfo(updateObject(puppetInfo, {\n                    rawContent: ifNullEmpty(data.content)\n                }))\n                console.log(r.data);\n            }).catch(e => alert(e))\n            .finally(() => setPuppetInfo(updateObject(puppetInfo, {loading: false})));\n        } else {\n            alert(\"server url or youtube link not exist\")\n        }\n    }\n\n    const handleClick = (ev) => {\n        const storeName = state.store;\n        setDisableInput(true)\n        axios.get(buildUrl(\"/admin/getStore?store=\" + storeName), {withCredentials: true})\n            .then(response => {\n                const data = response.data;\n                console.log(data)\n                if (_isEmpty(data)) {\n                    alert(\"주소 확인 실패\");\n                } else {\n                    setState(updateObject(state,{\n                        storeName: ifNullEmpty(data.name),\n                        tel: ifNullEmpty(data.tel),\n                        address1: ifNullEmpty(data.address1),\n                        address2: ifNullEmpty(data.address2),\n                        link: ifNullEmpty(data.link),\n                        latitude: ifNullEmpty(data.latitude),\n                        longitude: ifNullEmpty(data.longitude),\n                        availableTime: ifNullEmpty(data.availableTime)\n                    }));\n                }\n            }).finally(() => {\n                setDisableInput(false);\n            });\n        ev.stopPropagation();\n    }\n\n    const modifyLink = (ev) => {\n        const storeName = state.storeName;\n        const storeLink = state.link;\n\n        if (_isEmpty(storeName) || _isEmpty(storeLink)) {\n            alert(\"storeName이나 storeLink가 없습니다. storeName \" + storeName + \" storeLink \" + storeLink)\n            return\n        }\n        console.log(encodeURI(storeLink))\n        setDisableInput(true)\n        axios.get(buildUrl(\"/admin/getStoreByLink?store=\" + storeName + \"&link=\" + encodeURIComponent(storeLink)), {withCredentials: true})\n            .then(response => {\n                const data = response.data;\n                console.log(data)\n                if (_isEmpty(data)) {\n                    alert(\"주소 확인 실패\");\n                } else {\n                    setState(updateObject(state,{\n                        storeName: ifNullEmpty(data.name),\n                        tel: ifNullEmpty(data.tel),\n                        address1: ifNullEmpty(data.address1),\n                        address2: ifNullEmpty(data.address2),\n                        link: ifNullEmpty(data.link),\n                        latitude: ifNullEmpty(data.latitude),\n                        longitude: ifNullEmpty(data.longitude),\n                        availableTime: ifNullEmpty(data.availableTime)\n                    }));\n                }\n            }).finally(() => {\n            setDisableInput(false);\n        });\n        ev.stopPropagation();\n    }\n\n    const handleSubmit = (ev) => {\n        ev.preventDefault();\n        const data = new FormData(ev.target.form);\n        for (let key of data.keys()) {\n            console.log(key,\": \", data.get(key));\n        }\n        setDisableInput(true)\n        axios.post(buildUrl(\"/admin/contentsForm\"), data, {withCredentials: true})\n            .then(response => {\n                if (response.data === \"success\") {\n                    alert(\"정상적으로 등록되었습니다.\")\n                    if (fixChannel) {\n                        setState(updateObject(initialState, {youtubeName: state.youtubeName}));\n                    } else {\n                        setState(initialState);\n                    }\n                } else {\n                    alert(\"등록에 실패하였습니다.\")\n                }\n            }).finally(() => {\n                setDisableInput(false)\n            });\n    }\n\n    const handleDateText = (ev) => {\n        const inputName = ev.target.name;\n        setState(updateObject(state, {[inputName]: filterDateText(ev.target.value)}));\n    }\n\n    const filterDateText = (v) => {\n        let value = v\n        if (value.indexOf(\"•\") !== -1) {\n            value = value.split(\"•\")[1]\n        }\n        if (value.indexOf(\":\") !== -1) {\n            value = value.split(\":\")[1]\n        }\n        return value.trim()\n    }\n\n    const modifyLocation = (address) => {\n        setDisableInput(true)\n        axios.get(buildUrl(\"/admin/getLocation?address=\" + address), {withCredentials: true})\n            .then(response => {\n                const data = response.data;\n                console.log(data)\n                if (_isEmpty(data)) {\n                    alert(\"주소 확인 실패\");\n                } else {\n                    setState(updateObject(state,{\n                        latitude: ifNullEmpty(data.latitude),\n                        longitude: ifNullEmpty(data.longitude),\n                    }));\n                }\n            }).finally(() => {\n                setDisableInput(false);\n            });\n    }\n\n    const ifNullEmpty = (v) => {\n        return _isNil(v) ? '' : v\n    }\n\n    const handleClearCache = (text) => {\n        setResultText(text)\n        axios.get(buildUrl(\"/init/all/cache\"), {withCredentials: true})\n            .then(response => {\n                if (response.status == 200) {\n                    setResultText(text + \" 성공\")\n                } else {\n                    setResultText(text + \" 실패 : \" + response.status)\n                }\n            })\n            .catch(e => {\n                setResultText(text + \" 실패 : \" + e)\n            });\n    }\n\n    const checkChannelLink = (ev) => {\n        const newChannelLink = state.newChannelLink\n        axios.get(buildUrl(\"/admin/check/channelLink?link=\" + encodeURIComponent(newChannelLink)), {withCredentials: true})\n            .then(response => {\n                const data = response.data\n                if (response.status == 200) {\n                    setState(updateObject(state, {\n                        newChannelYoutubeId: ifNullEmpty(data.youtubeId),\n                        newChannelName: ifNullEmpty(data.youtubeName),\n                        newChannelImgLink: ifNullEmpty(data.profileImg)\n                    }))\n                } else {\n                    alert(\"채널 링크를 다시 확인해주세요!\");\n                    setState(updateObject(state, {\n                        newChannelLink : ''\n                    }))\n                }\n            })\n    }\n\n    const addChannel = (ev) => {\n        ev.stopPropagation();\n    }\n\n    return (\n        <>\n\n            {_isNil(user)\n            ? null\n            : <>\n                    <InputField fieldName=\"ProxyServer\" disabled={puppetInfo.loading} value={puppetInfo.server} onChange={(e) => setPuppetInfo(Object.assign({}, puppetInfo, {server: e.target.value}))} />\n                    {puppetInfo.server\n                        ? <>\n                            <a disabled={puppetInfo.loading} className=\"button is-success is-pulled-right\" onClick={(e) => getYoutubeMeta(e)}>정보 로드</a>\n                            <InputField disabled={puppetInfo.loading} fieldName=\"YoutubeLink\" value={puppetInfo.youtubeLink} onChange={(e) => setPuppetInfo(Object.assign({}, puppetInfo, {youtubeLink: e.target.value}))} />\n                            <div className=\"field is-horizontal\">\n                                <div className=\"field-label is-normal\">\n                                    <label className=\"label\">RawContents</label>\n                                </div>\n                                <div className=\"field-body\">\n                                    <div className=\"field\">\n                                        <p className=\"control is-expanded\">\n                                            <textarea disabled={puppetInfo.loading} rows={10} className=\"textarea\" value={puppetInfo.rawContent} />\n                                        </p>\n                                    </div>\n                                </div>\n                            </div>\n                            <hr />\n                        </>\n                        : null}\n\n\n                    <form className=\"columns\">\n                        <div className=\"column\">\n                            <InputField disabled={disableInput} fieldName=\"추가할 채널 링크\" name=\"newChannelLink\" placeholder=\"ex : https://www.youtube.com/channel/UCXHt0mdmd-VIv8SuD6bhdZA\" value={state.newChannelLink} onChange={handleChangeInput}/>\n                            <button disabled={disableInput} className=\"button is-success is-pulled-right\" type=\"button\" onClick={checkChannelLink}>채널링크확인</button>\n                        </div>\n                        <div className=\"column\">\n                            <InputField disabled={disableInput} fieldName=\"추가할 채널명\" placeholder=\"추가할 채널 이름\" value={state.newChannelName} onChange={handleChangeInput}/>\n                            <InputField disabled={disableInput} fieldName=\"채널 카테고리\" placeholder=\"채널 카테고리\" value={state.newChannelCategory} onChange={handleChangeInput}/>\n                            <InputField disabled={disableInput} fieldName=\"프로필이미지주소\" placeholder=\"채널 프로필 이미지 주소\" value={state.newChannelImgLink} onChange={handleChangeInput}/>\n                            <button disabled={disableInput} className=\"button is-primary is-pulled-right\" type=\"button\" onClick={addChannel}>채널추가</button>\n                        </div>\n\n                    </form>\n\n                    <form className=\"columns\">\n                    <div className=\"column\">\n                        {_isEmpty(channelList)\n                            ? <InputField disabled={disableInput} fieldName=\"유투버이름\" name=\"youtubeName\" placeholder=\"유투버이름\" value={state.youtubeName} onChange={handleChangeInput}/>\n                            : <>\n                                <SelectField disabled={disableInput} fieldName=\"유투버이름\" name=\"youtubeName\" onChange={handleChangeInput}>\n                                    {channelList.map(c => <option key={c.youtubeName} value={c.youtubeName}>{c.youtubeName}</option>)}\n                                </SelectField>\n                                <div style={{\n                                    marginTop: \"-0.75rem\",\n                                    textAlign: \"right\",\n                                    marginBottom: \"0.75rem\"\n                                }}>\n                                    <label className=\"checkbox\">\n                                        <input className=\"has-margin-right-5\" type=\"checkbox\" onChange={(e) => setFixChannel(e.target.checked)}/>\n                                         채널 고정\n                                    </label>\n                                </div>\n                            </>\n                        }\n                        <InputField disabled={disableInput} fieldName=\"영상링크\" name=\"youtubeContentsLink\" placeholder=\"영상링크\" value={state.youtubeContentsLink} onChange={handleChangeInput}/>\n                        <InputField disabled={disableInput} fieldName=\"컨텐츠제목\" name=\"contentsTitle\" placeholder=\"컨텐츠제목\" value={state.contentsTitle} onChange={handleChangeInput}/>\n                        <InputField disabled={disableInput} fieldName=\"컨텐츠등록날짜\" name=\"registerDate\" placeholder=\"등록날짜\" value={state.registerDate} onChange={handleDateText}/>\n                        <InputField disabled={disableInput} fieldName=\"태그\" name=\"tag\" placeholder=\"태그\" value={state.tag} onChange={handleChangeInput}/>\n                        <InputField disabled={disableInput} fieldName=\"식당정보\" name=\"store\" placeholder=\"식당정보\" value={state.store} onChange={handleChangeInput}/>\n                        <button disabled={disableInput} className=\"button is-primary is-pulled-right\" type=\"button\" onClick={handleClick}>주소 확인</button>\n                    </div>\n                    <div className=\"column\">\n                        <InputField disabled={disableInput} fieldName=\"가게이름\" name=\"storeName\" placeholder=\"가게이름\" value={state.storeName} onChange={handleChangeInput}/>\n                        <InputField disabled={disableInput} fieldName=\"전화번호\" name=\"tel\" placeholder=\"전화번호\" value={state.tel} onChange={handleChangeInput}/>\n                        <a className=\"button is-success is-pulled-right\" onClick={(e) => modifyLocation(state.address1)}>위/경도 수정</a>\n                        <InputField disabled={disableInput} fieldName=\"주소1\" name=\"address1\" placeholder=\"주소1\" value={state.address1} onChange={handleChangeInput}/>\n                        <a className=\"button is-success is-pulled-right\" onClick={(e) => modifyLocation(state.address2)}>위/경도 수정</a>\n                        <InputField disabled={disableInput} fieldName=\"주소2\" name=\"address2\" placeholder=\"주소2\" value={state.address2} onChange={handleChangeInput}/>\n                        <a className=\"button is-success is-pulled-right\" onClick={modifyLink}>링크 수정</a>\n                        <a href={state.link} target=\"_blank\" className=\"button is-link is-pulled-right\">링크 확인</a>\n                        <InputField disabled={disableInput} fieldName=\"링크\" name=\"link\" placeholder=\"링크\" value={state.link} onChange={handleChangeInput}/>\n\n                        <InputField disabled={disableInput} fieldName=\"위도\" name=\"latitude\" placeholder=\"위도\" value={state.latitude} onChange={handleChangeInput}/>\n                        <InputField disabled={disableInput} fieldName=\"경도\" name=\"longitude\" placeholder=\"경도\" value={state.longitude} onChange={handleChangeInput}/>\n                        <InputField disabled={disableInput} fieldName=\"영업 시간\" name=\"availableTime\" placeholder=\"영업 시간\" value={state.availableTime} onChange={handleChangeInput}/>\n                        <button disabled={disableInput} className=\"button is-primary is-pulled-right\" type=\"submit\" onClick={handleSubmit}>저장</button>\n                    </div>\n            </form>\n            <div className=\"row is-vertical\">\n                <h1 className=\"column is-size-5\">기능 버튼</h1>\n                <div className=\"column is-top-paddingless\">\n                        <button className=\"button is-primary is-outlined\" onClick={(e) => handleClearCache(\"캐시 삭제\")}>캐시 삭제</button>\n                </div>\n                <div className=\"column is-top-paddingless\">\n                    <div className=\"box\">\n                        <p>{resultText}</p>\n                    </div>\n                </div>\n            </div>\n            </>}\n            {/*<hr />*/}\n            {/*<div className=\"column\">*/}\n            {/*    <div className=\"columns\">*/}\n            {/*        <div className=\"box column\">*/}\n            {/*            <VideoAdSense />*/}\n            {/*        </div>*/}\n            {/*        <div className=\"box column\">*/}\n            {/*            <VideoAdSense />*/}\n            {/*        </div>*/}\n            {/*        <div className=\"box column\">*/}\n            {/*            <VideoAdSense />*/}\n            {/*        </div>*/}\n            {/*    </div>*/}\n            {/*    <hr/>*/}\n            {/*    <div className=\"columns\">*/}\n            {/*        <div className=\"box column\">*/}\n            {/*            <StoreAdSense />*/}\n            {/*        </div>*/}\n            {/*        <div className=\"box column\">*/}\n            {/*            <StoreAdSense />*/}\n            {/*        </div>*/}\n            {/*        <div className=\"box column\">*/}\n            {/*            <StoreAdSense />*/}\n            {/*        </div>*/}\n            {/*    </div>*/}\n            {/*    <hr/>*/}\n            {/*    <div style={{height: \"440px !important\"}}className=\"tile is-ancestor is-borderless is-marginless\">*/}\n            {/*        <FavoriteContentAdSense />*/}\n            {/*        <FavoriteContentAdSense />*/}\n            {/*        <FavoriteContentAdSense />*/}\n            {/*        <FavoriteContentAdSense />*/}\n            {/*    </div>*/}\n            {/*</div>*/}\n        </>\n    )\n}\n\nexport default MetaRegistForm"]},"metadata":{},"sourceType":"module"}