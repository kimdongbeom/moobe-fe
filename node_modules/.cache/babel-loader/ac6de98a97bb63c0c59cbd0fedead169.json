{"ast":null,"code":"import _slicedToArray from \"/Users/nhnent/IdeaProjects/moobe/src/main/webapps/moobe-fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/nhnent/IdeaProjects/moobe/src/main/webapps/moobe-fe/src/components/notice/NoticeModal.jsx\";\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { isNil as _isNil } from 'lodash';\nimport { useCookies } from \"react-cookie\";\nimport { MOMENT_DATE_FORMAT, MOOBE_COOKIE_DISABLE_NOTICE_NAME } from \"assets/styles/const\";\nimport { fetchTodayNotice } from \"data/redux/action/notice\";\nimport MarkdownViewer from \"components/notice/MarkdownViewer\";\nimport Moment from \"react-moment\";\n\nconst NoticeModal = () => {\n  const _useCookies = useCookies([MOOBE_COOKIE_DISABLE_NOTICE_NAME]),\n        _useCookies2 = _slicedToArray(_useCookies, 2),\n        cookies = _useCookies2[0],\n        setCookie = _useCookies2[1];\n\n  const _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        active = _useState2[0],\n        setActive = _useState2[1];\n\n  const _useState3 = useState(false),\n        _useState4 = _slicedToArray(_useState3, 2),\n        disableOneDay = _useState4[0],\n        setDisableOneDay = _useState4[1];\n\n  const _useSelector = useSelector(state => state.notice),\n        todayNoticeList = _useSelector.todayNoticeList;\n\n  const dispatch = useDispatch();\n  useEffect(() => {\n    let cookieDisableNotice = cookies[MOOBE_COOKIE_DISABLE_NOTICE_NAME];\n\n    if (_isNil(cookieDisableNotice) || !cookieDisableNotice) {\n      dispatch(fetchTodayNotice());\n    }\n  }, []);\n  useEffect(() => {\n    if (!_isNil(todayNoticeList) && todayNoticeList.length != 0) {\n      setActive(true);\n    }\n  }, [todayNoticeList]);\n\n  const closeModal = () => {\n    if (disableOneDay) {\n      setCookie(MOOBE_COOKIE_DISABLE_NOTICE_NAME, true, {\n        path: \"/\",\n        maxAge: 86400\n      }); //maxAge = 1days\n    }\n\n    setActive(false);\n  };\n\n  return React.createElement(\"div\", {\n    className: \"modal notice-modal \" + (active ? \"is-active\" : \"\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"modal-background has-opacity-0-5\",\n    onClick: closeModal,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"modal-card notice-modal-content is-marginless has-padding-15-mobile\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, React.createElement(\"header\", {\n    className: \"modal-card-head has-background-white has-text-centered is-borderless has-padding-bottom-10\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    className: \"modal-card-title has-text-grey-dark has-text-weight-semibold\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, \"Notice\")), React.createElement(\"section\", {\n    className: \"modal-card-body\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, todayNoticeList ? todayNoticeList.map(notice => React.createElement(Notice, {\n    key: notice.id,\n    notice: notice,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  })) : null), React.createElement(\"footer\", {\n    className: \"modal-card-foot has-background-white is-borderless\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"is-fullwidth\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"button is-danger is-fullwidth\",\n    onClick: closeModal,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, \"\\uB2EB\\uAE30\"), React.createElement(\"div\", {\n    className: \"has-padding-top-10 has-text-right field\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    className: \"is-checkradio is-small is-danger \",\n    id: \"disableOneDayCheck\",\n    type: \"checkbox\",\n    name: \"disableOneDayCheck\",\n    value: disableOneDay,\n    checked: disableOneDay,\n    onChange: e => {\n      setDisableOneDay(!disableOneDay);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    htmlFor: \"disableOneDayCheck\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, \"\\uC624\\uB298 \\uD558\\uB8E8 \\uC774 \\uCC3D\\uC744 \\uC5F4\\uC9C0 \\uC54A\\uAE30\"))))));\n};\n\nconst Notice = ({\n  notice\n}) => {\n  return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n    className: \"notice box\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"has-text-left is-flex justify-space-between\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    className: \"title is-4 is-marginless\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, notice.title), React.createElement(\"span\", {\n    className: \"has-text-grey-dark\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, \"\\uB4F1\\uB85D\\uC77C: \", React.createElement(Moment, {\n    format: MOMENT_DATE_FORMAT,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, notice.noticeStartDate))), React.createElement(\"hr\", {\n    className: \"has-background-grey-lighter is-marginless\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"has-padding-top-10\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, React.createElement(MarkdownViewer, {\n    markdown: notice.markdownContents,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }))));\n};\n\nexport default NoticeModal;","map":{"version":3,"sources":["/Users/nhnent/IdeaProjects/moobe/src/main/webapps/moobe-fe/src/components/notice/NoticeModal.jsx"],"names":["React","useEffect","useState","useDispatch","useSelector","isNil","_isNil","useCookies","MOMENT_DATE_FORMAT","MOOBE_COOKIE_DISABLE_NOTICE_NAME","fetchTodayNotice","MarkdownViewer","Moment","NoticeModal","cookies","setCookie","active","setActive","disableOneDay","setDisableOneDay","state","notice","todayNoticeList","dispatch","cookieDisableNotice","length","closeModal","path","maxAge","map","id","e","Notice","title","noticeStartDate","markdownContents"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport {useDispatch, useSelector} from \"react-redux\";\nimport { isNil as _isNil } from 'lodash'\nimport {useCookies} from \"react-cookie\";\nimport {MOMENT_DATE_FORMAT, MOOBE_COOKIE_DISABLE_NOTICE_NAME} from \"assets/styles/const\";\nimport {fetchTodayNotice} from \"data/redux/action/notice\";\nimport MarkdownViewer from \"components/notice/MarkdownViewer\";\nimport Moment from \"react-moment\";\n\nconst NoticeModal = () => {\n    const [cookies, setCookie] = useCookies([MOOBE_COOKIE_DISABLE_NOTICE_NAME])\n    const [active, setActive] = useState(false);\n    const [disableOneDay, setDisableOneDay] = useState(false);\n    const {todayNoticeList} = useSelector(state => state.notice)\n    const dispatch = useDispatch();\n    useEffect(() => {\n        let cookieDisableNotice = cookies[MOOBE_COOKIE_DISABLE_NOTICE_NAME]\n        if (_isNil(cookieDisableNotice) || !cookieDisableNotice) {\n            dispatch(fetchTodayNotice())\n        }\n    }, [])\n    useEffect(() => {\n        if (!_isNil(todayNoticeList) && todayNoticeList.length != 0) {\n            setActive(true)\n        }\n    }, [todayNoticeList])\n\n    const closeModal = () => {\n        if (disableOneDay) {\n            setCookie(MOOBE_COOKIE_DISABLE_NOTICE_NAME, true, {path : \"/\", maxAge: 86400}) //maxAge = 1days\n        }\n        setActive(false);\n    }\n\n    return (\n        <div className={\"modal notice-modal \" + (active ? \"is-active\" : \"\")}>\n            <div className=\"modal-background has-opacity-0-5\" onClick={closeModal}></div>\n            <div className=\"modal-card notice-modal-content is-marginless has-padding-15-mobile\">\n                <header className=\"modal-card-head has-background-white has-text-centered is-borderless has-padding-bottom-10\">\n                    <p className=\"modal-card-title has-text-grey-dark has-text-weight-semibold\">Notice</p>\n                </header>\n                <section className=\"modal-card-body\">\n                    {todayNoticeList ? todayNoticeList.map(notice => <Notice key={notice.id} notice={notice} />) : null}\n                </section>\n                <footer className=\"modal-card-foot has-background-white is-borderless\">\n                    <div className=\"is-fullwidth\">\n                        <button className=\"button is-danger is-fullwidth\" onClick={closeModal}>닫기</button>\n                        <div className=\"has-padding-top-10 has-text-right field\">\n                                <input className=\"is-checkradio is-small is-danger \" id=\"disableOneDayCheck\" type=\"checkbox\"\n                                       name=\"disableOneDayCheck\" value={disableOneDay} checked={disableOneDay} onChange={(e) => {\n                                    setDisableOneDay(!disableOneDay)\n                                }} />\n                                <label htmlFor=\"disableOneDayCheck\">오늘 하루 이 창을 열지 않기</label>\n                        </div>\n                    </div>\n                </footer>\n\n            </div>\n        </div>\n    )\n}\n\nconst Notice = ({notice}) => {\n\n    return (\n        <>\n            <div className=\"notice box\">\n                <div className=\"has-text-left is-flex justify-space-between\">\n                    <h3 className=\"title is-4 is-marginless\">{notice.title}</h3>\n                    <span className=\"has-text-grey-dark\">등록일: <Moment format={MOMENT_DATE_FORMAT}>{notice.noticeStartDate}</Moment></span>\n                </div>\n                <hr className=\"has-background-grey-lighter is-marginless\"/>\n                <div className=\"has-padding-top-10\">\n                    <MarkdownViewer markdown={notice.markdownContents} />\n                </div>\n            </div>\n        </>\n    )\n\n}\n\n\nexport default NoticeModal;"]},"metadata":{},"sourceType":"module"}