{"ast":null,"code":"import _slicedToArray from \"/Users/nhnent/IdeaProjects/moobe/src/main/webapps/moobe-fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/nhnent/IdeaProjects/moobe/src/main/webapps/moobe-fe/src/components/admin/MetaRegistForm.jsx\";\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { authorizeUser, requireUser } from \"data/redux/action/user\";\nimport { buildUrl, ifNullEmpty, updateObject } from \"data/util\";\nimport { useHistory } from \"react-router\";\nimport { isEmpty as _isEmpty, isNil as _isNil } from \"lodash\";\nimport { fetchChannel } from \"data/redux/action/channel\";\nimport ChannelRegistForm from \"components/admin/ChannelRegistForm\";\nimport { InputField, SelectField } from \"components/admin/AdminFields\";\n\nconst MetaRegistForm = () => {\n  const initialState = {\n    youtubeName: '',\n    youtubeContentsLink: '',\n    contentsTitle: '',\n    registerDate: '',\n    tag: '',\n    store: '',\n    storeName: '',\n    tel: '',\n    address1: '',\n    address2: '',\n    link: '',\n    latitude: '',\n    longitude: '',\n    availableTime: '' // menu: 'menu'\n\n  };\n\n  const _useState = useState(initialState),\n        _useState2 = _slicedToArray(_useState, 2),\n        state = _useState2[0],\n        setState = _useState2[1];\n\n  const _useState3 = useState(\"\"),\n        _useState4 = _slicedToArray(_useState3, 2),\n        resultText = _useState4[0],\n        setResultText = _useState4[1];\n\n  const _useState5 = useState({\n    server: null,\n    youtubeLink: null,\n    rawContent: null,\n    loading: false\n  }),\n        _useState6 = _slicedToArray(_useState5, 2),\n        puppetInfo = _useState6[0],\n        setPuppetInfo = _useState6[1];\n\n  const _useState7 = useState(false),\n        _useState8 = _slicedToArray(_useState7, 2),\n        disableInput = _useState8[0],\n        setDisableInput = _useState8[1];\n\n  const _useSelector = useSelector(state => state.user),\n        user = _useSelector.user;\n\n  const _useSelector2 = useSelector(state => state.channel),\n        channelList = _useSelector2.channelList;\n\n  const dispatch = useDispatch();\n  const history = useHistory();\n  useEffect(() => {\n    dispatch(authorizeUser(() => {\n      dispatch(requireUser());\n      dispatch(fetchChannel());\n    }, () => history.replace(\"/\")));\n  }, []);\n\n  const handleChangeInput = ev => {\n    const inputName = ev.target.name;\n    setState(updateObject(state, {\n      [inputName]: ev.target.value\n    }));\n  };\n\n  async function getYoutubeMeta(ev) {\n    const serverUrl = puppetInfo.server;\n    const youtubeLink = puppetInfo.youtubeLink;\n\n    if (serverUrl && youtubeLink) {\n      setPuppetInfo(updateObject(puppetInfo, {\n        loading: true\n      }));\n      const vId = youtubeLink.split(\"v=\")[1].split(\"&\")[0];\n      axios.get(`${serverUrl}/youtube?v=${vId}`).then(r => {\n        setState(updateObject(state, {\n          youtubeContentsLink: youtubeLink\n        }));\n        const data = r.data;\n        setState(updateObject(state, {\n          youtubeContentsLink: ifNullEmpty(youtubeLink),\n          contentsTitle: ifNullEmpty(data.title),\n          registerDate: filterDateText(ifNullEmpty(data.date)),\n          tag: ifNullEmpty(data.tag)\n        }));\n        setPuppetInfo(updateObject(puppetInfo, {\n          rawContent: ifNullEmpty(data.content)\n        }));\n        console.log(r.data);\n      }).catch(e => alert(e)).finally(() => setPuppetInfo(updateObject(puppetInfo, {\n        loading: false\n      })));\n    } else {\n      alert(\"server url or youtube link not exist\");\n    }\n  }\n\n  const handleClick = ev => {\n    const storeName = state.store;\n    setDisableInput(true);\n    axios.get(buildUrl(\"/admin/getStore?store=\" + storeName), {\n      withCredentials: true\n    }).then(response => {\n      const data = response.data;\n      console.log(data);\n\n      if (_isEmpty(data)) {\n        alert(\"주소 확인 실패\");\n      } else {\n        setState(updateObject(state, {\n          contentsTitle: ifNullEmpty(data.contentsTitle),\n          registerDate: ifNullEmpty(data.registerDate),\n          address1: ifNullEmpty(data.address1),\n          address2: ifNullEmpty(data.address2),\n          link: ifNullEmpty(data.link),\n          latitude: ifNullEmpty(data.latitude),\n          longitude: ifNullEmpty(data.longitude),\n          availableTime: ifNullEmpty(data.availableTime)\n        }));\n      }\n    }).finally(() => {\n      setDisableInput(false);\n    });\n    ev.stopPropagation();\n  };\n\n  const checkLink = link => {\n    axios.get(buildUrl(\"/admin/getStoreByLink?store=\" + storeName + \"&link=\" + encodeURIComponent(storeLink)), {\n      withCredentials: true\n    }).then(response => {\n      const data = response.data;\n      console.log(data);\n\n      if (_isEmpty(data)) {\n        alert(\"주소 확인 실패\");\n      } else {\n        setState(updateObject(state, {\n          storeName: ifNullEmpty(data.title),\n          tel: ifNullEmpty(data.tel),\n          address1: ifNullEmpty(data.address1),\n          address2: ifNullEmpty(data.address2),\n          link: ifNullEmpty(data.link),\n          latitude: ifNullEmpty(data.latitude),\n          longitude: ifNullEmpty(data.longitude),\n          availableTime: ifNullEmpty(data.availableTime)\n        }));\n      }\n    }).finally(() => {\n      setDisableInput(false);\n    });\n    ev.stopPropagation();\n  };\n\n  const modifyLink = ev => {\n    const storeName = state.storeName;\n    const storeLink = state.link;\n\n    if (_isEmpty(storeName) || _isEmpty(storeLink)) {\n      alert(\"storeName이나 storeLink가 없습니다. storeName \" + storeName + \" storeLink \" + storeLink);\n      return;\n    }\n\n    console.log(encodeURI(storeLink));\n    setDisableInput(true);\n    axios.get(buildUrl(\"/admin/getStoreByLink?store=\" + storeName + \"&link=\" + encodeURIComponent(storeLink)), {\n      withCredentials: true\n    }).then(response => {\n      const data = response.data;\n      console.log(data);\n\n      if (_isEmpty(data)) {\n        alert(\"주소 확인 실패\");\n      } else {\n        setState(updateObject(state, {\n          storeName: ifNullEmpty(data.name),\n          tel: ifNullEmpty(data.tel),\n          address1: ifNullEmpty(data.address1),\n          address2: ifNullEmpty(data.address2),\n          link: ifNullEmpty(data.link),\n          latitude: ifNullEmpty(data.latitude),\n          longitude: ifNullEmpty(data.longitude),\n          availableTime: ifNullEmpty(data.availableTime)\n        }));\n      }\n    }).finally(() => {\n      setDisableInput(false);\n    });\n    ev.stopPropagation();\n  };\n\n  const handleSubmit = ev => {\n    ev.preventDefault();\n    const data = new FormData(ev.target.form);\n\n    for (let key of data.keys()) {\n      console.log(key, \": \", data.get(key));\n    }\n\n    if (_isEmpty(state.youtubeName)) {\n      alert(\"채널을 선택해 주세요\");\n      return;\n    }\n\n    setDisableInput(true);\n    axios.post(buildUrl(\"/admin/contentsForm\"), data, {\n      withCredentials: true\n    }).then(response => {\n      if (response.data === \"success\") {\n        alert(\"정상적으로 등록되었습니다.\");\n        setState(updateObject(initialState, {\n          youtubeName: state.youtubeName\n        }));\n      } else {\n        alert(\"등록에 실패하였습니다.\");\n      }\n    }).finally(() => {\n      setDisableInput(false);\n    });\n  };\n\n  const handleDateText = ev => {\n    const inputName = ev.target.name;\n    setState(updateObject(state, {\n      [inputName]: filterDateText(ev.target.value)\n    }));\n  };\n\n  const filterDateText = v => {\n    let value = v;\n\n    if (value.indexOf(\"•\") !== -1) {\n      value = value.split(\"•\")[1];\n    }\n\n    if (value.indexOf(\":\") !== -1) {\n      value = value.split(\":\")[1];\n    }\n\n    return value.trim();\n  };\n\n  const modifyLocation = address => {\n    setDisableInput(true);\n    axios.get(buildUrl(\"/admin/getLocation?address=\" + address), {\n      withCredentials: true\n    }).then(response => {\n      const data = response.data;\n      console.log(data);\n\n      if (_isEmpty(data)) {\n        alert(\"주소 확인 실패\");\n      } else {\n        setState(updateObject(state, {\n          latitude: ifNullEmpty(data.latitude),\n          longitude: ifNullEmpty(data.longitude)\n        }));\n      }\n    }).finally(() => {\n      setDisableInput(false);\n    });\n  };\n\n  const handleClearCache = text => {\n    setResultText(text);\n    axios.get(buildUrl(\"/init/all/cache\"), {\n      withCredentials: true\n    }).then(response => {\n      if (response.status == 200) {\n        setResultText(text + \" 성공\");\n      } else {\n        setResultText(text + \" 실패 : \" + response.status);\n      }\n    }).catch(e => {\n      setResultText(text + \" 실패 : \" + e);\n    });\n  };\n\n  return React.createElement(React.Fragment, null, _isNil(user) ? null : React.createElement(React.Fragment, null, React.createElement(\"div\", {\n    className: \"columns\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"column\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245\n    },\n    __self: this\n  }, React.createElement(ChannelRegistForm, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"column\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248\n    },\n    __self: this\n  }, React.createElement(InputField, {\n    fieldName: \"ProxyServer\",\n    disabled: puppetInfo.loading,\n    value: puppetInfo.server,\n    onChange: e => setPuppetInfo(Object.assign({}, puppetInfo, {\n      server: e.target.value\n    })),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249\n    },\n    __self: this\n  }), puppetInfo.server ? React.createElement(React.Fragment, null, React.createElement(\"a\", {\n    disabled: puppetInfo.loading,\n    className: \"button is-success is-pulled-right\",\n    onClick: e => getYoutubeMeta(e),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252\n    },\n    __self: this\n  }, \"\\uC815\\uBCF4 \\uB85C\\uB4DC\"), React.createElement(InputField, {\n    disabled: puppetInfo.loading,\n    fieldName: \"YoutubeLink\",\n    value: puppetInfo.youtubeLink,\n    onChange: e => setPuppetInfo(Object.assign({}, puppetInfo, {\n      youtubeLink: e.target.value\n    })),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"field is-horizontal\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"field-label is-normal\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"label\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256\n    },\n    __self: this\n  }, \"RawContents\")), React.createElement(\"div\", {\n    className: \"field-body\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"field\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    className: \"control is-expanded\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260\n    },\n    __self: this\n  }, React.createElement(\"textarea\", {\n    disabled: puppetInfo.loading,\n    rows: 10,\n    className: \"textarea\",\n    value: puppetInfo.rawContent,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261\n    },\n    __self: this\n  })))))) : null)), React.createElement(\"hr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271\n    },\n    __self: this\n  }), React.createElement(\"form\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"columns\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"column\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274\n    },\n    __self: this\n  }, _isEmpty(channelList) ? React.createElement(InputField, {\n    disabled: disableInput,\n    fieldName: \"\\uC720\\uD22C\\uBC84\\uC774\\uB984\",\n    name: \"youtubeName\",\n    placeholder: \"\\uC720\\uD22C\\uBC84\\uC774\\uB984\",\n    value: state.youtubeName,\n    onChange: handleChangeInput,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276\n    },\n    __self: this\n  }) : React.createElement(React.Fragment, null, React.createElement(SelectField, {\n    disabled: disableInput,\n    name: \"youtubeName\",\n    onChange: handleChangeInput,\n    size: channelList.length,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278\n    },\n    __self: this\n  }, channelList.map(c => React.createElement(\"option\", {\n    style: {\n      \"backgroundImage\": `url(${c.profileImg})`,\n      \"backgroundRepeat\": \"no-repeat\",\n      \"backgroundSize\": \"40px\",\n      \"textAlign\": \"start\",\n      \"paddingLeft\": \"50px\" // \"whiteSpace\": \"pre-wrap\"\n\n    },\n    key: c.youtubeName,\n    value: c.youtubeName,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 279\n    },\n    __self: this\n  }, c.id, \" - \", c.youtubeName, \"(\", c.youtubeId, \") - \", c.category)))))), React.createElement(\"div\", {\n    className: \"columns\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 292\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"column\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 293\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"field is-horizontal\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"field-label is-normal\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 295\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"label\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 296\n    },\n    __self: this\n  }, \"\\uCC44\\uB110\")), React.createElement(\"div\", {\n    className: \"field-body\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"field\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 299\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    className: \"control is-expanded\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 300\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 301\n    },\n    __self: this\n  }, state.youtubeName))))), React.createElement(InputField, {\n    disabled: disableInput,\n    fieldName: \"\\uC601\\uC0C1\\uB9C1\\uD06C\",\n    name: \"youtubeContentsLink\",\n    placeholder: \"\\uC601\\uC0C1\\uB9C1\\uD06C\",\n    value: state.youtubeContentsLink,\n    onChange: handleChangeInput,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306\n    },\n    __self: this\n  }), React.createElement(\"a\", {\n    className: \"button is-success is-pulled-right\",\n    onClick: e => checkLink(state.youtubeContentsLink),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307\n    },\n    __self: this\n  }, \"\\uB9C1\\uD06C \\uD655\\uC778\"), React.createElement(InputField, {\n    disabled: disableInput,\n    fieldName: \"\\uCEE8\\uD150\\uCE20\\uC81C\\uBAA9\",\n    name: \"contentsTitle\",\n    placeholder: \"\\uCEE8\\uD150\\uCE20\\uC81C\\uBAA9\",\n    value: state.contentsTitle,\n    onChange: handleChangeInput,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308\n    },\n    __self: this\n  }), React.createElement(InputField, {\n    disabled: disableInput,\n    fieldName: \"\\uCEE8\\uD150\\uCE20\\uB4F1\\uB85D\\uB0A0\\uC9DC\",\n    name: \"registerDate\",\n    placeholder: \"\\uB4F1\\uB85D\\uB0A0\\uC9DC\",\n    value: state.registerDate,\n    onChange: handleDateText,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 309\n    },\n    __self: this\n  }), React.createElement(InputField, {\n    disabled: disableInput,\n    fieldName: \"\\uD0DC\\uADF8\",\n    name: \"tag\",\n    placeholder: \"\\uD0DC\\uADF8\",\n    value: state.tag,\n    onChange: handleChangeInput,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 310\n    },\n    __self: this\n  }), React.createElement(InputField, {\n    disabled: disableInput,\n    fieldName: \"\\uC2DD\\uB2F9\\uC815\\uBCF4\",\n    name: \"store\",\n    placeholder: \"\\uC2DD\\uB2F9\\uC815\\uBCF4\",\n    value: state.store,\n    onChange: handleChangeInput,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 311\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    disabled: disableInput,\n    className: \"button is-primary is-pulled-right\",\n    type: \"button\",\n    onClick: handleClick,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 312\n    },\n    __self: this\n  }, \"\\uC8FC\\uC18C \\uD655\\uC778\")), React.createElement(\"div\", {\n    className: \"column\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 314\n    },\n    __self: this\n  }, React.createElement(InputField, {\n    disabled: disableInput,\n    fieldName: \"\\uAC00\\uAC8C\\uC774\\uB984\",\n    name: \"storeName\",\n    placeholder: \"\\uAC00\\uAC8C\\uC774\\uB984\",\n    value: state.storeName,\n    onChange: handleChangeInput,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 315\n    },\n    __self: this\n  }), React.createElement(InputField, {\n    disabled: disableInput,\n    fieldName: \"\\uC804\\uD654\\uBC88\\uD638\",\n    name: \"tel\",\n    placeholder: \"\\uC804\\uD654\\uBC88\\uD638\",\n    value: state.tel,\n    onChange: handleChangeInput,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 316\n    },\n    __self: this\n  }), React.createElement(\"a\", {\n    className: \"button is-success is-pulled-right\",\n    onClick: e => modifyLocation(state.address1),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 317\n    },\n    __self: this\n  }, \"\\uC704/\\uACBD\\uB3C4 \\uC218\\uC815\"), React.createElement(InputField, {\n    disabled: disableInput,\n    fieldName: \"\\uC8FC\\uC18C1\",\n    name: \"address1\",\n    placeholder: \"\\uC8FC\\uC18C1\",\n    value: state.address1,\n    onChange: handleChangeInput,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 318\n    },\n    __self: this\n  }), React.createElement(\"a\", {\n    className: \"button is-success is-pulled-right\",\n    onClick: e => modifyLocation(state.address2),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 319\n    },\n    __self: this\n  }, \"\\uC704/\\uACBD\\uB3C4 \\uC218\\uC815\"), React.createElement(InputField, {\n    disabled: disableInput,\n    fieldName: \"\\uC8FC\\uC18C2\",\n    name: \"address2\",\n    placeholder: \"\\uC8FC\\uC18C2\",\n    value: state.address2,\n    onChange: handleChangeInput,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 320\n    },\n    __self: this\n  }), React.createElement(\"a\", {\n    className: \"button is-success is-pulled-right\",\n    onClick: modifyLink,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 321\n    },\n    __self: this\n  }, \"\\uB9C1\\uD06C \\uC218\\uC815\"), React.createElement(\"a\", {\n    href: state.link,\n    target: \"_blank\",\n    className: \"button is-link is-pulled-right\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 322\n    },\n    __self: this\n  }, \"\\uB9C1\\uD06C \\uD655\\uC778\"), React.createElement(InputField, {\n    disabled: disableInput,\n    fieldName: \"\\uB9C1\\uD06C\",\n    name: \"link\",\n    placeholder: \"\\uB9C1\\uD06C\",\n    value: state.link,\n    onChange: handleChangeInput,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 323\n    },\n    __self: this\n  }), React.createElement(InputField, {\n    disabled: disableInput,\n    fieldName: \"\\uC704\\uB3C4\",\n    name: \"latitude\",\n    placeholder: \"\\uC704\\uB3C4\",\n    value: state.latitude,\n    onChange: handleChangeInput,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 325\n    },\n    __self: this\n  }), React.createElement(InputField, {\n    disabled: disableInput,\n    fieldName: \"\\uACBD\\uB3C4\",\n    name: \"longitude\",\n    placeholder: \"\\uACBD\\uB3C4\",\n    value: state.longitude,\n    onChange: handleChangeInput,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 326\n    },\n    __self: this\n  }), React.createElement(InputField, {\n    disabled: disableInput,\n    fieldName: \"\\uC601\\uC5C5 \\uC2DC\\uAC04\",\n    name: \"availableTime\",\n    placeholder: \"\\uC601\\uC5C5 \\uC2DC\\uAC04\",\n    value: state.availableTime,\n    onChange: handleChangeInput,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 327\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    disabled: disableInput,\n    className: \"button is-primary is-pulled-right\",\n    type: \"submit\",\n    onClick: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 328\n    },\n    __self: this\n  }, \"\\uC800\\uC7A5\")))), React.createElement(\"div\", {\n    className: \"row is-vertical\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 332\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    className: \"column is-size-5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 333\n    },\n    __self: this\n  }, \"\\uAE30\\uB2A5 \\uBC84\\uD2BC\"), React.createElement(\"div\", {\n    className: \"column is-top-paddingless\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 334\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"button is-primary is-outlined\",\n    onClick: e => handleClearCache(\"캐시 삭제\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 335\n    },\n    __self: this\n  }, \"\\uCE90\\uC2DC \\uC0AD\\uC81C\")), React.createElement(\"div\", {\n    className: \"column is-top-paddingless\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 337\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"box\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 338\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 339\n    },\n    __self: this\n  }, resultText))))));\n};\n\nexport default MetaRegistForm;","map":{"version":3,"sources":["/Users/nhnent/IdeaProjects/moobe/src/main/webapps/moobe-fe/src/components/admin/MetaRegistForm.jsx"],"names":["React","useEffect","useState","axios","useDispatch","useSelector","authorizeUser","requireUser","buildUrl","ifNullEmpty","updateObject","useHistory","isEmpty","_isEmpty","isNil","_isNil","fetchChannel","ChannelRegistForm","InputField","SelectField","MetaRegistForm","initialState","youtubeName","youtubeContentsLink","contentsTitle","registerDate","tag","store","storeName","tel","address1","address2","link","latitude","longitude","availableTime","state","setState","resultText","setResultText","server","youtubeLink","rawContent","loading","puppetInfo","setPuppetInfo","disableInput","setDisableInput","user","channel","channelList","dispatch","history","replace","handleChangeInput","ev","inputName","target","name","value","getYoutubeMeta","serverUrl","vId","split","get","then","r","data","title","filterDateText","date","content","console","log","catch","e","alert","finally","handleClick","withCredentials","response","stopPropagation","checkLink","encodeURIComponent","storeLink","modifyLink","encodeURI","handleSubmit","preventDefault","FormData","form","key","keys","post","handleDateText","v","indexOf","trim","modifyLocation","address","handleClearCache","text","status","Object","assign","length","map","c","profileImg","id","youtubeId","category"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport axios from 'axios';\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {authorizeUser, requireUser} from \"data/redux/action/user\";\nimport {buildUrl, ifNullEmpty, updateObject} from \"data/util\";\nimport {useHistory} from \"react-router\";\nimport {isEmpty as _isEmpty, isNil as _isNil} from \"lodash\";\nimport {fetchChannel} from \"data/redux/action/channel\";\nimport ChannelRegistForm from \"components/admin/ChannelRegistForm\";\nimport {InputField, SelectField} from \"components/admin/AdminFields\";\n\nconst MetaRegistForm = () => {\n    const initialState = {\n        youtubeName: '',\n        youtubeContentsLink: '',\n        contentsTitle: '',\n        registerDate: '',\n        tag: '',\n        store: '',\n        storeName: '',\n        tel: '',\n        address1: '',\n        address2: '',\n        link: '',\n        latitude: '',\n        longitude: '',\n        availableTime: ''\n        // menu: 'menu'\n    }\n    const [state, setState] = useState(initialState);\n    const [resultText, setResultText] = useState(\"\");\n    const [puppetInfo, setPuppetInfo] = useState({server: null, youtubeLink: null, rawContent: null, loading: false});\n    const [disableInput, setDisableInput] = useState(false);\n    const {user} = useSelector(state => state.user)\n    const {channelList} = useSelector(state => state.channel);\n    const dispatch = useDispatch();\n    const history = useHistory();\n\n    useEffect(() => {\n        dispatch(authorizeUser(() => {\n            dispatch(requireUser())\n            dispatch(fetchChannel())\n        },() => history.replace(\"/\")));\n    }, []);\n\n    const handleChangeInput = (ev) => {\n        const inputName = ev.target.name;\n        setState(updateObject(state, {[inputName]: ev.target.value}));\n    }\n\n    async function getYoutubeMeta(ev) {\n        const serverUrl = puppetInfo.server\n        const youtubeLink = puppetInfo.youtubeLink\n        if (serverUrl && youtubeLink) {\n            setPuppetInfo(updateObject(puppetInfo, {loading: true}));\n            const vId = youtubeLink.split(\"v=\")[1].split(\"&\")[0];\n            axios.get(`${serverUrl}/youtube?v=${vId}`).then(r => {\n                setState(updateObject(state, {youtubeContentsLink: youtubeLink}))\n                const data = r.data\n                setState(updateObject(state,{\n                    youtubeContentsLink: ifNullEmpty(youtubeLink),\n                    contentsTitle: ifNullEmpty(data.title),\n                    registerDate: filterDateText(ifNullEmpty(data.date)),\n                    tag: ifNullEmpty(data.tag),\n                }));\n                setPuppetInfo(updateObject(puppetInfo, {\n                    rawContent: ifNullEmpty(data.content)\n                }))\n                console.log(r.data);\n            }).catch(e => alert(e))\n            .finally(() => setPuppetInfo(updateObject(puppetInfo, {loading: false})));\n        } else {\n            alert(\"server url or youtube link not exist\")\n        }\n    }\n\n    const handleClick = (ev) => {\n        const storeName = state.store;\n        setDisableInput(true)\n        axios.get(buildUrl(\"/admin/getStore?store=\" + storeName), {withCredentials: true})\n            .then(response => {\n                const data = response.data;\n                console.log(data)\n                if (_isEmpty(data)) {\n                    alert(\"주소 확인 실패\");\n                } else {\n                    setState(updateObject(state,{\n                        contentsTitle: ifNullEmpty(data.contentsTitle),\n                        registerDate: ifNullEmpty(data.registerDate),\n                        address1: ifNullEmpty(data.address1),\n                        address2: ifNullEmpty(data.address2),\n                        link: ifNullEmpty(data.link),\n                        latitude: ifNullEmpty(data.latitude),\n                        longitude: ifNullEmpty(data.longitude),\n                        availableTime: ifNullEmpty(data.availableTime)\n                    }));\n                }\n            }).finally(() => {\n                setDisableInput(false);\n            });\n        ev.stopPropagation();\n    }\n\n\n    const checkLink = (link) => {\n        axios.get(buildUrl(\"/admin/getStoreByLink?store=\" + storeName + \"&link=\" + encodeURIComponent(storeLink)), {withCredentials: true})\n            .then(response => {\n                const data = response.data;\n                console.log(data)\n                if (_isEmpty(data)) {\n                    alert(\"주소 확인 실패\");\n                } else {\n                    setState(updateObject(state,{\n                        storeName: ifNullEmpty(data.title),\n                        tel: ifNullEmpty(data.tel),\n                        address1: ifNullEmpty(data.address1),\n                        address2: ifNullEmpty(data.address2),\n                        link: ifNullEmpty(data.link),\n                        latitude: ifNullEmpty(data.latitude),\n                        longitude: ifNullEmpty(data.longitude),\n                        availableTime: ifNullEmpty(data.availableTime)\n                    }));\n                }\n            }).finally(() => {\n            setDisableInput(false);\n        });\n        ev.stopPropagation();\n    }\n\n    const modifyLink = (ev) => {\n        const storeName = state.storeName;\n        const storeLink = state.link;\n\n        if (_isEmpty(storeName) || _isEmpty(storeLink)) {\n            alert(\"storeName이나 storeLink가 없습니다. storeName \" + storeName + \" storeLink \" + storeLink)\n            return\n        }\n        console.log(encodeURI(storeLink))\n        setDisableInput(true)\n        axios.get(buildUrl(\"/admin/getStoreByLink?store=\" + storeName + \"&link=\" + encodeURIComponent(storeLink)), {withCredentials: true})\n            .then(response => {\n                const data = response.data;\n                console.log(data)\n                if (_isEmpty(data)) {\n                    alert(\"주소 확인 실패\");\n                } else {\n                    setState(updateObject(state,{\n                        storeName: ifNullEmpty(data.name),\n                        tel: ifNullEmpty(data.tel),\n                        address1: ifNullEmpty(data.address1),\n                        address2: ifNullEmpty(data.address2),\n                        link: ifNullEmpty(data.link),\n                        latitude: ifNullEmpty(data.latitude),\n                        longitude: ifNullEmpty(data.longitude),\n                        availableTime: ifNullEmpty(data.availableTime)\n                    }));\n                }\n            }).finally(() => {\n            setDisableInput(false);\n        });\n        ev.stopPropagation();\n    }\n\n    const handleSubmit = (ev) => {\n        ev.preventDefault();\n        const data = new FormData(ev.target.form);\n        for (let key of data.keys()) {\n            console.log(key,\": \", data.get(key));\n        }\n        if (_isEmpty(state.youtubeName)) {\n            alert(\"채널을 선택해 주세요\")\n            return ;\n        }\n        setDisableInput(true)\n        axios.post(buildUrl(\"/admin/contentsForm\"), data, {withCredentials: true})\n            .then(response => {\n                if (response.data === \"success\") {\n                    alert(\"정상적으로 등록되었습니다.\")\n                    setState(updateObject(initialState, {youtubeName: state.youtubeName}));\n                } else {\n                    alert(\"등록에 실패하였습니다.\")\n                }\n            }).finally(() => {\n                setDisableInput(false)\n            });\n    }\n\n    const handleDateText = (ev) => {\n        const inputName = ev.target.name;\n        setState(updateObject(state, {[inputName]: filterDateText(ev.target.value)}));\n    }\n\n    const filterDateText = (v) => {\n        let value = v\n        if (value.indexOf(\"•\") !== -1) {\n            value = value.split(\"•\")[1]\n        }\n        if (value.indexOf(\":\") !== -1) {\n            value = value.split(\":\")[1]\n        }\n        return value.trim()\n    }\n\n    const modifyLocation = (address) => {\n        setDisableInput(true)\n        axios.get(buildUrl(\"/admin/getLocation?address=\" + address), {withCredentials: true})\n            .then(response => {\n                const data = response.data;\n                console.log(data)\n                if (_isEmpty(data)) {\n                    alert(\"주소 확인 실패\");\n                } else {\n                    setState(updateObject(state,{\n                        latitude: ifNullEmpty(data.latitude),\n                        longitude: ifNullEmpty(data.longitude),\n                    }));\n                }\n            }).finally(() => {\n                setDisableInput(false);\n            });\n    }\n\n    const handleClearCache = (text) => {\n        setResultText(text)\n        axios.get(buildUrl(\"/init/all/cache\"), {withCredentials: true})\n            .then(response => {\n                if (response.status == 200) {\n                    setResultText(text + \" 성공\")\n                } else {\n                    setResultText(text + \" 실패 : \" + response.status)\n                }\n            })\n            .catch(e => {\n                setResultText(text + \" 실패 : \" + e)\n            });\n    }\n\n    return (\n        <>\n\n            {_isNil(user)\n            ? null\n            : <>\n                <div className=\"columns\">\n                    <div className=\"column\">\n                        <ChannelRegistForm />\n                    </div>\n                    <div className=\"column\">\n                        <InputField fieldName=\"ProxyServer\" disabled={puppetInfo.loading} value={puppetInfo.server} onChange={(e) => setPuppetInfo(Object.assign({}, puppetInfo, {server: e.target.value}))} />\n                        {puppetInfo.server\n                            ? <>\n                                <a disabled={puppetInfo.loading} className=\"button is-success is-pulled-right\" onClick={(e) => getYoutubeMeta(e)}>정보 로드</a>\n                                <InputField disabled={puppetInfo.loading} fieldName=\"YoutubeLink\" value={puppetInfo.youtubeLink} onChange={(e) => setPuppetInfo(Object.assign({}, puppetInfo, {youtubeLink: e.target.value}))} />\n                                <div className=\"field is-horizontal\">\n                                    <div className=\"field-label is-normal\">\n                                        <label className=\"label\">RawContents</label>\n                                    </div>\n                                    <div className=\"field-body\">\n                                        <div className=\"field\">\n                                            <p className=\"control is-expanded\">\n                                                <textarea disabled={puppetInfo.loading} rows={10} className=\"textarea\" value={puppetInfo.rawContent} />\n                                            </p>\n                                        </div>\n                                    </div>\n                                </div>\n                            </>\n                            : null}\n                        </div>\n\n                </div>\n                <hr />\n                <form className=\"row\">\n                    <div className=\"columns\">\n                        <div className=\"column\">\n                            {_isEmpty(channelList)\n                                ? <InputField disabled={disableInput} fieldName=\"유투버이름\" name=\"youtubeName\" placeholder=\"유투버이름\" value={state.youtubeName} onChange={handleChangeInput}/>\n                                : <>\n                                    <SelectField disabled={disableInput} name=\"youtubeName\" onChange={handleChangeInput} size={channelList.length}>\n                                        {channelList.map(c => <option style={{\n                                            \"backgroundImage\" :`url(${c.profileImg})`,\n                                            \"backgroundRepeat\": \"no-repeat\",\n                                            \"backgroundSize\": \"40px\",\n                                            \"textAlign\": \"start\",\n                                            \"paddingLeft\": \"50px\",\n                                            // \"whiteSpace\": \"pre-wrap\"\n                                        }} key={c.youtubeName} value={c.youtubeName}>{c.id} - {c.youtubeName}({c.youtubeId}) - {c.category}</option>)}\n                                    </SelectField>\n                                </>\n                            }\n                        </div>\n                    </div>\n                    <div className=\"columns\">\n                        <div className=\"column\">\n                            <div className=\"field is-horizontal\">\n                                <div className=\"field-label is-normal\">\n                                    <label className=\"label\">채널</label>\n                                </div>\n                                <div className=\"field-body\">\n                                    <div className=\"field\">\n                                        <p className=\"control is-expanded\">\n                                            <span>{state.youtubeName}</span>\n                                        </p>\n                                    </div>\n                                </div>\n                            </div>\n                            <InputField disabled={disableInput} fieldName=\"영상링크\" name=\"youtubeContentsLink\" placeholder=\"영상링크\" value={state.youtubeContentsLink} onChange={handleChangeInput}/>\n                            <a className=\"button is-success is-pulled-right\" onClick={(e) => checkLink(state.youtubeContentsLink)}>링크 확인</a>\n                            <InputField disabled={disableInput} fieldName=\"컨텐츠제목\" name=\"contentsTitle\" placeholder=\"컨텐츠제목\" value={state.contentsTitle} onChange={handleChangeInput}/>\n                            <InputField disabled={disableInput} fieldName=\"컨텐츠등록날짜\" name=\"registerDate\" placeholder=\"등록날짜\" value={state.registerDate} onChange={handleDateText}/>\n                            <InputField disabled={disableInput} fieldName=\"태그\" name=\"tag\" placeholder=\"태그\" value={state.tag} onChange={handleChangeInput}/>\n                            <InputField disabled={disableInput} fieldName=\"식당정보\" name=\"store\" placeholder=\"식당정보\" value={state.store} onChange={handleChangeInput}/>\n                            <button disabled={disableInput} className=\"button is-primary is-pulled-right\" type=\"button\" onClick={handleClick}>주소 확인</button>\n                        </div>\n                        <div className=\"column\">\n                            <InputField disabled={disableInput} fieldName=\"가게이름\" name=\"storeName\" placeholder=\"가게이름\" value={state.storeName} onChange={handleChangeInput}/>\n                            <InputField disabled={disableInput} fieldName=\"전화번호\" name=\"tel\" placeholder=\"전화번호\" value={state.tel} onChange={handleChangeInput}/>\n                            <a className=\"button is-success is-pulled-right\" onClick={(e) => modifyLocation(state.address1)}>위/경도 수정</a>\n                            <InputField disabled={disableInput} fieldName=\"주소1\" name=\"address1\" placeholder=\"주소1\" value={state.address1} onChange={handleChangeInput}/>\n                            <a className=\"button is-success is-pulled-right\" onClick={(e) => modifyLocation(state.address2)}>위/경도 수정</a>\n                            <InputField disabled={disableInput} fieldName=\"주소2\" name=\"address2\" placeholder=\"주소2\" value={state.address2} onChange={handleChangeInput}/>\n                            <a className=\"button is-success is-pulled-right\" onClick={modifyLink}>링크 수정</a>\n                            <a href={state.link} target=\"_blank\" className=\"button is-link is-pulled-right\">링크 확인</a>\n                            <InputField disabled={disableInput} fieldName=\"링크\" name=\"link\" placeholder=\"링크\" value={state.link} onChange={handleChangeInput}/>\n\n                            <InputField disabled={disableInput} fieldName=\"위도\" name=\"latitude\" placeholder=\"위도\" value={state.latitude} onChange={handleChangeInput}/>\n                            <InputField disabled={disableInput} fieldName=\"경도\" name=\"longitude\" placeholder=\"경도\" value={state.longitude} onChange={handleChangeInput}/>\n                            <InputField disabled={disableInput} fieldName=\"영업 시간\" name=\"availableTime\" placeholder=\"영업 시간\" value={state.availableTime} onChange={handleChangeInput}/>\n                            <button disabled={disableInput} className=\"button is-primary is-pulled-right\" type=\"submit\" onClick={handleSubmit}>저장</button>\n                        </div>\n                    </div>\n                </form>\n                <div className=\"row is-vertical\">\n                    <h1 className=\"column is-size-5\">기능 버튼</h1>\n                    <div className=\"column is-top-paddingless\">\n                            <button className=\"button is-primary is-outlined\" onClick={(e) => handleClearCache(\"캐시 삭제\")}>캐시 삭제</button>\n                    </div>\n                    <div className=\"column is-top-paddingless\">\n                        <div className=\"box\">\n                            <p>{resultText}</p>\n                        </div>\n                    </div>\n                </div>\n            </>\n            }\n        </>\n    )\n}\n\nexport default MetaRegistForm;"]},"metadata":{},"sourceType":"module"}