{"ast":null,"code":"import _slicedToArray from \"/Users/nhnent/IdeaProjects/moobe/src/main/webapps/moobe-fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/nhnent/IdeaProjects/moobe/src/main/webapps/moobe-fe/src/components/common/layout/Navbar.jsx\";\nimport React, { useEffect, useState } from 'react';\nimport { Link } from \"react-router-dom\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport MoobeBrand from 'assets/images/moobe_brand.png';\nimport { faCircle, faExclamation, faMap, faStar } from \"@fortawesome/free-solid-svg-icons\";\nimport { faCircle as fasCircle, faMap as fasMap, faStar as fasStar } from '@fortawesome/free-regular-svg-icons';\nimport { useHistory, useParams } from \"react-router\";\nimport { buildChannelPath } from \"data/util\";\nimport MoobeNavbarLogin from \"components/common/login/NavbarLogin\";\nimport { requireUser } from \"data/redux/action/user\";\nimport OverlayFontAwesomeIcon from \"components/common/icon/OverlayFontAwesomeIcon\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { NAV_ICON_ACTIVE, NAV_ICON_BORDER } from \"assets/styles/colors\";\nimport SearchBar from \"components/common/search/Search\";\nimport { EMPTY_IMAGE } from \"assets/styles/const\";\nimport { aboutPage, contentPage, favoritePage } from \"data/router-util\";\nimport { useMobile } from \"components/common/layout/WindowDimensions\";\nimport { resetMapBounds, setMapLevel } from \"data/redux/action/map\";\nimport { initMapLevel } from \"data/redux/reducers/mapReducer\";\n\nconst NavContent = ({\n  channel\n}) => React.createElement(React.Fragment, null, React.createElement(\"div\", {\n  className: \"media-left\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 23\n  },\n  __self: this\n}, React.createElement(\"figure\", {\n  className: \"image\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 24\n  },\n  __self: this\n}, channel != null ? React.createElement(\"img\", {\n  className: \"image has-min-height-32 has-min-width-32 is-32x32 is-rounded\",\n  src: channel.profileImg,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 26\n  },\n  __self: this\n}) : React.createElement(\"img\", {\n  className: \"image has-min-height-32 is-rounded\",\n  src: EMPTY_IMAGE,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 27\n  },\n  __self: this\n}))), React.createElement(\"div\", {\n  className: \"media-content align-self-center\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 30\n  },\n  __self: this\n}, React.createElement(\"p\", {\n  className: \"subtitle\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 31\n  },\n  __self: this\n}, channel != null ? channel.youtubeName : \"전체 채널\")));\n\nconst NavItem = ({\n  channel\n}) => {\n  const _useSelector = useSelector(state => state.channel),\n        channelLoading = _useSelector.channelLoading;\n\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  const onClickChannel = () => {\n    if (channelLoading) {\n      return;\n    }\n\n    dispatch(resetMapBounds());\n    dispatch(setMapLevel(initMapLevel));\n    history.push(buildChannelPath(channel));\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(\"a\", {\n    className: \"navbar-item media is-marginless flex-mobile\",\n    onClick: onClickChannel,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, React.createElement(NavContent, {\n    channel: channel,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  })));\n};\n\nconst NavItems = () => {\n  const _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        channelDropdownActive = _useState2[0],\n        setChannelDropdownActive = _useState2[1];\n\n  const _useSelector2 = useSelector(state => state.channel),\n        channelList = _useSelector2.channelList,\n        activeChannel = _useSelector2.activeChannel,\n        channelLoading = _useSelector2.channelLoading;\n\n  useEffect(() => {\n    setChannelDropdownActive(false);\n  }, [activeChannel, channelLoading]);\n\n  const channelDropdownClassName = () => channelLoading ? \"navbar-item item has-dropdown is-paddingless-mobile disabled\" : channelDropdownActive ? \"navbar-item item has-dropdown is-paddingless-mobile is-active\" : \"navbar-item item has-dropdown is-paddingless-mobile\";\n\n  const mobileChannelDropdownClassName = () => channelLoading ? \"navbar-dropdown disabled is-hidden-touch\" : channelDropdownActive ? \"navbar-dropdown\" : \"navbar-dropdown is-hidden-touch\";\n\n  const toggleChannelDropdown = () => channelLoading ? \"\" : setChannelDropdownActive(!channelDropdownActive);\n\n  return React.createElement(\"div\", {\n    className: channelDropdownClassName(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"navbar-link flex-mobile \",\n    onClick: toggleChannelDropdown,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, React.createElement(NavContent, {\n    channel: activeChannel,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: mobileChannelDropdownClassName(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, activeChannel != null ? React.createElement(NavItem, {\n    channel: null,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }) : null, channelList.map(channel => {\n    if (activeChannel != null && channel.id === activeChannel.id) {\n      return null;\n    }\n\n    return React.createElement(NavItem, {\n      key: channel.id,\n      channel: channel,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    });\n  })));\n};\n\nconst MobileNavHeader = ({\n  showSearch\n}) => {\n  return React.createElement(\"div\", {\n    className: \"navbar-item flex-grow-1 is-hidden-tablet is-full-width mobile-search is-paddingless is-marginless has-margin-left-auto field has-addons\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, showSearch ? React.createElement(SearchBar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }) : null);\n};\n\nconst DesktopSearchBar = ({\n  showSearch\n}) => {\n  return React.createElement(\"div\", {\n    className: \"navbar-item flex-grow-1 is-hidden-mobile has-max-width-500 is-paddingless has-padding-right-15 is-marginless field has-addons\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, showSearch ? React.createElement(SearchBar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }) : null);\n};\n\nconst AuthLink = ({\n  to,\n  className,\n  children\n}) => {\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  const onClickLink = () => {\n    dispatch(requireUser(() => history.push(to)));\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(Link, {\n    to: \"#\",\n    onClick: onClickLink,\n    className: className,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125\n    },\n    __self: this\n  }, children));\n};\n\nconst MoobeNavBar = ({\n  type\n}) => {\n  const _useState3 = useState(false),\n        _useState4 = _slicedToArray(_useState3, 2),\n        burgerActive = _useState4[0],\n        setBurgerActive = _useState4[1];\n\n  const _useParams = useParams(),\n        channelId = _useParams.channelId,\n        contentId = _useParams.contentId;\n\n  const mobile = useMobile();\n  const history = useHistory();\n  const dispatch = useDispatch();\n\n  const _useSelector3 = useSelector(state => state.map),\n        enableGeolocation = _useSelector3.enableGeolocation;\n\n  useEffect(() => {\n    setBurgerActive(false);\n  }, [channelId, contentId, type]); //update active channel data every location changed.\n\n  useEffect(() => {\n    if (type === favoritePage) {\n      dispatch(requireUser(null, () => history.push(\"/\")));\n    }\n  }, []);\n\n  const burgerClassName = () => burgerActive ? \"navbar-burger burger has-padding-right-10 has-padding-left-10 is-active\" : \"navbar-burger burger has-padding-right-10 has-padding-left-10\";\n\n  const navbarMenuClassName = () => burgerActive ? \"moobe-navbar-menu navbar-menu navbar-end has-text-centered has-padding-left-50-mobile has-padding-left-15-tablet is-active\" : \"moobe-navbar-menu navbar-menu navbar-end has-text-centered has-padding-left-50-mobile has-padding-left-15-tablet\";\n\n  return React.createElement(React.Fragment, null, React.createElement(\"nav\", {\n    className: \"navbar is-light \",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158\n    },\n    __self: this\n  }, React.createElement(\"section\", {\n    className: \"container is-fullwidth has-margin-left-55-tablet has-margin-right-55-tablet \",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"navbar-brand has-padding-left-10 has-padding-left-5-mobile\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    className: \"is-flex has-padding-right-10-mobile align-items-center\",\n    href: \"/\",\n    role: \"button\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    className: \"\",\n    src: MoobeBrand,\n    alt: \"Moobe\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162\n    },\n    __self: this\n  })), React.createElement(MobileNavHeader, {\n    showSearch: type === contentPage,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165\n    },\n    __self: this\n  }), React.createElement(\"a\", {\n    role: \"button\",\n    onClick: () => setBurgerActive(!burgerActive),\n    className: burgerClassName(),\n    \"aria-label\": \"menu\",\n    \"aria-expanded\": \"false\",\n    \"data-target\": \"navbarMenu\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    \"aria-hidden\": \"true\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    \"aria-hidden\": \"true\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    \"aria-hidden\": \"true\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171\n    },\n    __self: this\n  }))), burgerActive ? React.createElement(\"div\", {\n    className: \"mobile-navbar-background\",\n    onClick: e => setBurgerActive(false),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174\n    },\n    __self: this\n  }) : null, React.createElement(\"div\", {\n    id: \"navbarMenu\",\n    className: navbarMenuClassName(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175\n    },\n    __self: this\n  }, mobile ? React.createElement(\"div\", {\n    className: \"navbar-start\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176\n    },\n    __self: this\n  }, \" \", type === contentPage ? React.createElement(NavItems, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176\n    },\n    __self: this\n  }) : null, \" \") : null, React.createElement(DesktopSearchBar, {\n    showSearch: type === contentPage,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177\n    },\n    __self: this\n  }), React.createElement(Link, {\n    to: \"/\",\n    className: \"navbar-item item flex-mobile\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    className: \"subtitle\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179\n    },\n    __self: this\n  }, React.createElement(OverlayFontAwesomeIcon, {\n    active: type === contentPage,\n    icon: fasMap,\n    color: NAV_ICON_BORDER,\n    overlayIcon: faMap,\n    overlayColor: NAV_ICON_ACTIVE,\n    overlayTransform: \"shrink-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180\n    },\n    __self: this\n  }), React.createElement(\"small\", {\n    className: \"has-text-weight-semibold has-padding-left-15  is-hidden-tablet\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187\n    },\n    __self: this\n  }, \"\\uC9C0\\uB3C4\"))), React.createElement(AuthLink, {\n    to: \"/favorite\",\n    className: \"navbar-item item flex-mobile\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    className: \"subtitle\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191\n    },\n    __self: this\n  }, React.createElement(OverlayFontAwesomeIcon, {\n    active: type === favoritePage,\n    icon: fasStar,\n    color: NAV_ICON_BORDER,\n    overlayIcon: faStar,\n    overlayColor: NAV_ICON_ACTIVE,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192\n    },\n    __self: this\n  }), React.createElement(\"small\", {\n    className: \"has-text-weight-semibold has-padding-left-15 is-hidden-tablet\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198\n    },\n    __self: this\n  }, \"\\uC990\\uACA8\\uCC3E\\uAE30\"))), React.createElement(Link, {\n    to: \"/about\",\n    className: \"navbar-item item flex-mobile\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    className: \"subtitle\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202\n    },\n    __self: this\n  }, React.createElement(OverlayFontAwesomeIcon, {\n    active: type === aboutPage,\n    icon: fasCircle,\n    color: NAV_ICON_BORDER,\n    transform: \"grow-4\",\n    overlayIcon: faCircle,\n    overlayColor: NAV_ICON_ACTIVE,\n    overlayTransform: \"grow-2\",\n    children: React.createElement(FontAwesomeIcon, {\n      icon: faExclamation,\n      transform: \"shrink-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203\n    },\n    __self: this\n  }), React.createElement(\"small\", {\n    className: \"has-text-weight-semibold has-padding-left-15  is-hidden-tablet\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212\n    },\n    __self: this\n  }, \"about\"))), React.createElement(\"div\", {\n    className: \"navbar-item item flex-mobile\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215\n    },\n    __self: this\n  }, React.createElement(MoobeNavbarLogin, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216\n    },\n    __self: this\n  }))))));\n};\n\nexport default MoobeNavBar;","map":{"version":3,"sources":["/Users/nhnent/IdeaProjects/moobe/src/main/webapps/moobe-fe/src/components/common/layout/Navbar.jsx"],"names":["React","useEffect","useState","Link","useDispatch","useSelector","MoobeBrand","faCircle","faExclamation","faMap","faStar","fasCircle","fasMap","fasStar","useHistory","useParams","buildChannelPath","MoobeNavbarLogin","requireUser","OverlayFontAwesomeIcon","FontAwesomeIcon","NAV_ICON_ACTIVE","NAV_ICON_BORDER","SearchBar","EMPTY_IMAGE","aboutPage","contentPage","favoritePage","useMobile","resetMapBounds","setMapLevel","initMapLevel","NavContent","channel","profileImg","youtubeName","NavItem","state","channelLoading","dispatch","history","onClickChannel","push","NavItems","channelDropdownActive","setChannelDropdownActive","channelList","activeChannel","channelDropdownClassName","mobileChannelDropdownClassName","toggleChannelDropdown","map","id","MobileNavHeader","showSearch","DesktopSearchBar","AuthLink","to","className","children","onClickLink","MoobeNavBar","type","burgerActive","setBurgerActive","channelId","contentId","mobile","enableGeolocation","burgerClassName","navbarMenuClassName","e"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport {Link} from \"react-router-dom\";\nimport {useDispatch, useSelector} from 'react-redux';\nimport MoobeBrand from 'assets/images/moobe_brand.png';\nimport {faCircle, faExclamation, faMap, faStar} from \"@fortawesome/free-solid-svg-icons\";\nimport {faCircle as fasCircle, faMap as fasMap, faStar as fasStar} from '@fortawesome/free-regular-svg-icons'\nimport {useHistory, useParams} from \"react-router\";\nimport {buildChannelPath} from \"data/util\";\nimport MoobeNavbarLogin from \"components/common/login/NavbarLogin\";\nimport {requireUser} from \"data/redux/action/user\";\nimport OverlayFontAwesomeIcon from \"components/common/icon/OverlayFontAwesomeIcon\";\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport {NAV_ICON_ACTIVE, NAV_ICON_BORDER} from \"assets/styles/colors\";\nimport SearchBar from \"components/common/search/Search\";\nimport {EMPTY_IMAGE} from \"assets/styles/const\";\nimport {aboutPage, contentPage, favoritePage} from \"data/router-util\";\nimport {useMobile} from \"components/common/layout/WindowDimensions\";\nimport {resetMapBounds, setMapLevel} from \"data/redux/action/map\";\nimport {initMapLevel} from \"data/redux/reducers/mapReducer\";\n\nconst NavContent = ({channel}) => (\n    <>\n        <div className=\"media-left\">\n            <figure className=\"image\">\n                {channel != null\n                ? <img className=\"image has-min-height-32 has-min-width-32 is-32x32 is-rounded\" src={channel.profileImg}/>\n                :<img className=\"image has-min-height-32 is-rounded\" src={EMPTY_IMAGE}/> }\n            </figure>\n        </div>\n        <div className=\"media-content align-self-center\">\n            <p className=\"subtitle\">\n                {channel != null ? channel.youtubeName : \"전체 채널\"}\n            </p>\n        </div>\n    </>\n);\n\nconst NavItem = ({channel}) => {\n    const {channelLoading} = useSelector(state => state.channel);\n    const dispatch = useDispatch();\n    const history = useHistory();\n    const onClickChannel = () => {\n        if (channelLoading) {\n            return ;\n        }\n\n        dispatch(resetMapBounds());\n        dispatch(setMapLevel(initMapLevel));\n        history.push(buildChannelPath(channel))\n    }\n    return (\n        <>\n            <a className=\"navbar-item media is-marginless flex-mobile\"\n               onClick={onClickChannel}>\n                <NavContent channel={channel}/>\n            </a>\n        </>\n    )\n};\n\nconst NavItems = () => {\n    const [channelDropdownActive, setChannelDropdownActive] = useState(false);\n    const {channelList, activeChannel, channelLoading} = useSelector(state => state.channel);\n\n    useEffect(() => {\n        setChannelDropdownActive(false)\n    }, [activeChannel, channelLoading]);\n\n    const channelDropdownClassName = () => channelLoading\n        ? \"navbar-item item has-dropdown is-paddingless-mobile disabled\"\n        : channelDropdownActive\n            ? \"navbar-item item has-dropdown is-paddingless-mobile is-active\"\n            : \"navbar-item item has-dropdown is-paddingless-mobile\";\n\n    const mobileChannelDropdownClassName = () => channelLoading\n        ? \"navbar-dropdown disabled is-hidden-touch\"\n        : channelDropdownActive\n            ? \"navbar-dropdown\"\n            : \"navbar-dropdown is-hidden-touch\";\n\n    const toggleChannelDropdown = () => channelLoading ? \"\" : setChannelDropdownActive(!channelDropdownActive);\n\n    return (\n        <div className={channelDropdownClassName()}>\n            <div className=\"navbar-link flex-mobile \" onClick={toggleChannelDropdown}>\n                <NavContent channel={activeChannel}/>\n            </div>\n            <div className={mobileChannelDropdownClassName()}>\n                {activeChannel != null ? <NavItem channel={null}/> : null}\n                {channelList.map(channel => {\n                    if (activeChannel != null && channel.id === activeChannel.id) {\n                        return null;\n                    }\n                    return <NavItem key={channel.id} channel={channel}/>\n                })}\n            </div>\n        </div>\n    )\n};\n\nconst MobileNavHeader = ({showSearch}) => {\n    return (\n        <div className=\"navbar-item flex-grow-1 is-hidden-tablet is-full-width mobile-search is-paddingless is-marginless has-margin-left-auto field has-addons\">\n            {showSearch ? <SearchBar /> : null}\n        </div>\n    )\n};\n\nconst DesktopSearchBar = ({showSearch}) => {\n    return (\n        <div className=\"navbar-item flex-grow-1 is-hidden-mobile has-max-width-500 is-paddingless has-padding-right-15 is-marginless field has-addons\">\n            {showSearch ? <SearchBar /> : null}\n        </div>\n    )\n};\n\nconst AuthLink = ({to, className, children}) => {\n    const dispatch = useDispatch();\n    const history = useHistory();\n    const onClickLink = () => {\n        dispatch(requireUser(() => history.push(to)))\n    };\n    return (\n        <>\n            <Link to={\"#\"} onClick={onClickLink} className={className}>{children}</Link>\n        </>\n    )\n};\n\nconst MoobeNavBar = ({type}) => {\n    const [burgerActive, setBurgerActive] = useState(false);\n    const {channelId, contentId} = useParams();\n    const mobile = useMobile();\n    const history = useHistory();\n    const dispatch = useDispatch();\n\n    const {enableGeolocation} = useSelector(state => state.map)\n\n    useEffect(() => {\n        setBurgerActive(false);\n    }, [channelId, contentId, type]); //update active channel data every location changed.\n\n    useEffect(() => {\n        if (type === favoritePage) {\n            dispatch(requireUser(null, () => history.push(\"/\")))\n        }\n    }, [])\n\n    const burgerClassName = () => burgerActive\n        ? \"navbar-burger burger has-padding-right-10 has-padding-left-10 is-active\"\n        : \"navbar-burger burger has-padding-right-10 has-padding-left-10\";\n    const navbarMenuClassName = () => burgerActive\n        ? \"moobe-navbar-menu navbar-menu navbar-end has-text-centered has-padding-left-50-mobile has-padding-left-15-tablet is-active\"\n        : \"moobe-navbar-menu navbar-menu navbar-end has-text-centered has-padding-left-50-mobile has-padding-left-15-tablet\";\n\n    return (\n        <>\n            <nav className=\"navbar is-light \">\n                <section className=\"container is-fullwidth has-margin-left-55-tablet has-margin-right-55-tablet \">\n                    <div className=\"navbar-brand has-padding-left-10 has-padding-left-5-mobile\">\n                        <a className=\"is-flex has-padding-right-10-mobile align-items-center\" href=\"/\" role=\"button\">\n                            <img className=\"\" src={MoobeBrand} alt=\"Moobe\"/>\n                            {/*<img className=\"is-hidden-tablet\" src={MoobeLogo} alt=\"Moobe\"/>*/}\n                        </a>\n                        <MobileNavHeader showSearch={type === contentPage} />\n                        <a role=\"button\" onClick={() => setBurgerActive(!burgerActive)}\n                           className={burgerClassName()} aria-label=\"menu\" aria-expanded=\"false\"\n                           data-target=\"navbarMenu\">\n                            <span aria-hidden=\"true\"></span>\n                            <span aria-hidden=\"true\"></span>\n                            <span aria-hidden=\"true\"></span>\n                        </a>\n                    </div>\n                    {burgerActive ? <div className=\"mobile-navbar-background\" onClick={(e) => setBurgerActive(false)}/> : null}\n                    <div id=\"navbarMenu\" className={navbarMenuClassName()}>\n                        {mobile ? <div className=\"navbar-start\"> {type === contentPage? <NavItems /> : null} </div> : null}\n                        <DesktopSearchBar showSearch={type === contentPage}/>\n                        <Link to={\"/\"} className=\"navbar-item item flex-mobile\">\n                            <p className=\"subtitle\">\n                                <OverlayFontAwesomeIcon\n                                    active={type === contentPage}\n                                    icon={fasMap}\n                                    color={NAV_ICON_BORDER}\n                                    overlayIcon={faMap}\n                                    overlayColor={NAV_ICON_ACTIVE}\n                                    overlayTransform={\"shrink-2\"}/>\n                                <small className=\"has-text-weight-semibold has-padding-left-15  is-hidden-tablet\">지도</small>\n                            </p>\n                        </Link>\n                        <AuthLink to={\"/favorite\"} className=\"navbar-item item flex-mobile\">\n                            <p className=\"subtitle\">\n                                <OverlayFontAwesomeIcon\n                                    active={type === favoritePage}\n                                    icon={fasStar}\n                                    color={NAV_ICON_BORDER}\n                                    overlayIcon={faStar}\n                                    overlayColor={NAV_ICON_ACTIVE} />\n                                <small className=\"has-text-weight-semibold has-padding-left-15 is-hidden-tablet\">즐겨찾기</small>\n                            </p>\n                        </AuthLink>\n                        <Link to={\"/about\"} className=\"navbar-item item flex-mobile\">\n                            <p className=\"subtitle\">\n                                <OverlayFontAwesomeIcon\n                                    active={type === aboutPage}\n                                    icon={fasCircle}\n                                    color={NAV_ICON_BORDER}\n                                    transform={\"grow-4\"}\n                                    overlayIcon={faCircle}\n                                    overlayColor={NAV_ICON_ACTIVE}\n                                    overlayTransform={\"grow-2\"}\n                                    children={<FontAwesomeIcon icon={faExclamation} transform={\"shrink-5\"} />}/>\n                                <small className=\"has-text-weight-semibold has-padding-left-15  is-hidden-tablet\">about</small>\n                            </p>\n                        </Link>\n                        <div className=\"navbar-item item flex-mobile\">\n                            <MoobeNavbarLogin />\n                        </div>\n                    </div>\n                </section>\n            </nav>\n        </>\n    )\n};\n\n\nexport default MoobeNavBar;"]},"metadata":{},"sourceType":"module"}