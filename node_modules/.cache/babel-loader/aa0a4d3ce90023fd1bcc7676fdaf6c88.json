{"ast":null,"code":"'use strict';\n\nvar keycodes = require('./keycodes');\n\nfunction assertKeyString(s) {\n  if (!/^(ctrl-|shift-|alt-|meta-){0,4}\\w+$/.test(s)) throw new Error('The string to parse needs to be of the format \"c\", \"ctrl-c\", \"shift-ctrl-c\".');\n}\n\nmodule.exports = function parse(s) {\n  var keyString = s.trim().toLowerCase();\n  assertKeyString(keyString);\n  var key = {\n    name: undefined,\n    ctrl: false,\n    meta: false,\n    shift: false,\n    alt: false,\n    sequence: undefined\n  },\n      parts = keyString.split('-'),\n      c;\n  key.name = parts.pop();\n\n  while (c = parts.pop()) key[c] = true;\n\n  key.sequence = key.ctrl ? keycodes.ctrl[key.name] || key.name : keycodes.nomod[key.name] || key.name; // uppercase sequence for single chars when shift was pressed\n\n  if (key.shift && key.sequence && key.sequence.length === 1) key.sequence = key.sequence.toUpperCase();\n  return key;\n};","map":null,"metadata":{},"sourceType":"script"}