{"ast":null,"code":"import { isMatch as _isMatch, isObjectLike as _isObjectLike, split as _split, tail as _tail, isEmpty as _isEmpty, forEach as _forEach, map as _map, pickBy as _pickBy, isNil as _isNil, findIndex as _findIndex } from \"lodash\";\nimport { getSearchType } from \"data/redux/action/content\";\nimport { useEffect, useState } from \"react\";\nimport { useRouteMatch } from \"react-router\";\nimport { Observable } from \"rxjs\";\nexport const nullFunction = () => {};\nconst CHANNEL_PATH = \"channels\";\nconst CONTENT_PATH = \"contents\";\nexport function updateObject(oldObject, newValues) {\n  return Object.assign({}, oldObject, newValues);\n}\nexport function _insert(n, ins, arr) {\n  return [...arr.slice(0, n), ins, ...arr.slice(n)];\n}\nexport function buildMoobeMapBounds(swLat, swLng, neLat, neLng) {\n  if (_isNil(swLat) || _isNil(swLng) || _isNil(neLat) || _isNil(neLng)) {\n    return null;\n  }\n\n  return {\n    sw: {\n      lat: swLat,\n      lng: swLng\n    },\n    ne: {\n      lat: neLat,\n      lng: neLng\n    }\n  };\n}\nexport function unpackMoobeMapBounds(mapBounds) {\n  if (_isNil(mapBounds) || _isNil(mapBounds.sw) || _isNil(mapBounds.sw.lat) || _isNil(mapBounds.sw.lng) || _isNil(mapBounds.ne) || _isNil(mapBounds.ne.lat) || _isNil(mapBounds.ne.lng)) {\n    return null;\n  }\n\n  return {\n    swLat: mapBounds.sw.lat,\n    swLng: mapBounds.sw.lng,\n    neLat: mapBounds.ne.lat,\n    neLng: mapBounds.ne.lng\n  };\n}\nexport function isEqualBounds(b1, b2) {\n  if (_isNil(b1) || _isNil(b2)) {\n    return b1 === b2;\n  }\n\n  return b1.sw.lat === b2.sw.lat && b1.sw.lng === b2.sw.lng && b1.ne.lat === b2.ne.lat && b1.ne.lng === b2.ne.lng;\n}\nexport function buildChannelPath(channel) {\n  if (channel == null) {\n    return '';\n  } else {\n    return '/' + [CHANNEL_PATH, channel.id].join(\"/\");\n  }\n}\nexport function buildContentPath(channel, content) {\n  let channelPath = buildChannelPath(channel);\n\n  if (content !== null) {\n    return [channelPath, CONTENT_PATH, content.id].join(\"/\");\n  } else {\n    return _isEmpty(channelPath) ? \"/\" : channelPath;\n  }\n}\nexport function buildUrl(path) {\n  return process.env.REACT_APP_API_URL + path;\n}\nexport function expandUrl(path, variable, query = null) {\n  _forEach(variable, (v, k) => {\n    path = path.replace(\"{{\" + k + \"}}\", v);\n  });\n\n  if (query) {\n    return path + \"?\" + query;\n  } else {\n    return path;\n  }\n}\nexport function getSearchQueryParams(query, searchType) {\n  if (!_isEmpty(query)) {\n    return {\n      query: query,\n      searchType: getSearchType(searchType).type\n    };\n  } else {\n    return {};\n  }\n}\nexport function getSearchQueryText(query, searchType) {\n  if (!_isEmpty(query)) {\n    let searchTypeData = getSearchType(searchType);\n    return searchTypeData.title + \":\" + query;\n  } else {\n    return \"\";\n  }\n}\nexport function buildQuery(values) {\n  return _map(_pickBy(values, (v, k) => !_isNil(v)), (v, k) => k + \"=\" + v).join(\"&\");\n}\nexport function deepCompareSetState(state, updateState) {\n  if (updateState && _isObjectLike(state)) {\n    updateState(originState => {\n      if (originState && _isMatch(originState, state)) {\n        return originState;\n      }\n\n      return state;\n    });\n  }\n}\nexport function fixedFlotingPoint(v, limit = 4) {\n  if (!v) return v;\n  let denom = Math.pow(10, limit);\n  return Math.floor(v * denom) / denom;\n}\nexport function isSimilarLocation(latlng1, latlng2, accuracy = 3) {\n  if (_isNil(latlng1) || _isNil(latlng1.lat) || _isNil(latlng1.lng) || _isNil(latlng2) || _isNil(latlng2.lat) || _isNil(latlng2.lng)) {\n    return false;\n  }\n\n  return fixedFlotingPoint(latlng1.lat, 3) === fixedFlotingPoint(latlng2.lat, 3) && fixedFlotingPoint(latlng1.lng, 3) === fixedFlotingPoint(latlng2.lng, 3);\n}\nexport function delayObservable(delay) {\n  return new Observable(observer => {\n    setTimeout(() => {\n      observer.next(delay);\n      observer.complete();\n    }, delay);\n  });\n}\n;\nexport function getRandomInt(min, max) {\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(Math.random() * (max - min)) + min;\n}","map":{"version":3,"sources":["/Users/nhnent/IdeaProjects/moobe/src/main/webapps/moobe-fe/src/data/util.js"],"names":["isMatch","_isMatch","isObjectLike","_isObjectLike","split","_split","tail","_tail","isEmpty","_isEmpty","forEach","_forEach","map","_map","pickBy","_pickBy","isNil","_isNil","findIndex","_findIndex","getSearchType","useEffect","useState","useRouteMatch","Observable","nullFunction","CHANNEL_PATH","CONTENT_PATH","updateObject","oldObject","newValues","Object","assign","_insert","n","ins","arr","slice","buildMoobeMapBounds","swLat","swLng","neLat","neLng","sw","lat","lng","ne","unpackMoobeMapBounds","mapBounds","isEqualBounds","b1","b2","buildChannelPath","channel","id","join","buildContentPath","content","channelPath","buildUrl","path","process","env","REACT_APP_API_URL","expandUrl","variable","query","v","k","replace","getSearchQueryParams","searchType","type","getSearchQueryText","searchTypeData","title","buildQuery","values","deepCompareSetState","state","updateState","originState","fixedFlotingPoint","limit","denom","Math","pow","floor","isSimilarLocation","latlng1","latlng2","accuracy","delayObservable","delay","observer","setTimeout","next","complete","getRandomInt","min","max","ceil","random"],"mappings":"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","sourcesContent":["import {\n    isMatch as _isMatch,\n    isObjectLike as _isObjectLike,\n    split as _split,\n    tail as _tail,\n    isEmpty as _isEmpty,\n    forEach as _forEach, map as _map, pickBy as _pickBy, isNil as _isNil, findIndex as _findIndex\n} from \"lodash\";\nimport {getSearchType} from \"data/redux/action/content\";\nimport {useEffect, useState} from \"react\";\nimport {useRouteMatch} from \"react-router\";\nimport {Observable} from \"rxjs\";\n\nexport const nullFunction = () => {}\n\nconst CHANNEL_PATH = \"channels\"\nconst CONTENT_PATH =  \"contents\"\n\nexport function updateObject(oldObject, newValues) {\n    return Object.assign({}, oldObject, newValues);\n}\n\nexport function _insert(n, ins, arr) {\n    return [...arr.slice(0, n), ins, ...arr.slice(n)];\n}\n\nexport function buildMoobeMapBounds(swLat, swLng, neLat, neLng) {\n    if (_isNil(swLat) || _isNil(swLng) || _isNil(neLat) || _isNil(neLng)) {\n        return null;\n    }\n    return {\n        sw: {\n            lat: swLat,\n            lng: swLng\n        },\n        ne: {\n            lat: neLat,\n            lng: neLng\n        }\n    }\n}\n\nexport function unpackMoobeMapBounds(mapBounds) {\n    if (_isNil(mapBounds)\n        || _isNil(mapBounds.sw)\n        || _isNil(mapBounds.sw.lat)\n        || _isNil(mapBounds.sw.lng)\n        || _isNil(mapBounds.ne)\n        || _isNil(mapBounds.ne.lat)\n        || _isNil(mapBounds.ne.lng)) {\n        return null;\n    }\n    return {\n        swLat: mapBounds.sw.lat,\n        swLng: mapBounds.sw.lng,\n        neLat: mapBounds.ne.lat,\n        neLng: mapBounds.ne.lng\n    }\n}\n\nexport function isEqualBounds(b1, b2) {\n    if (_isNil(b1) || _isNil(b2)) {\n        return b1 === b2;\n    }\n    return (b1.sw.lat === b2.sw.lat\n            && b1.sw.lng === b2.sw.lng\n            && b1.ne.lat === b2.ne.lat\n            && b1.ne.lng === b2.ne.lng)\n}\n\nexport function buildChannelPath(channel) {\n    if (channel == null) {\n        return '';\n    } else {\n        return '/' + [CHANNEL_PATH, channel.id].join(\"/\")\n    }\n}\n\nexport function buildContentPath(channel, content) {\n    let channelPath = buildChannelPath(channel);\n    if (content !== null) {\n        return [channelPath, CONTENT_PATH, content.id].join(\"/\")\n    } else {\n        return _isEmpty(channelPath) ? \"/\" : channelPath;\n    }\n}\n\nexport function buildUrl(path) {\n    return process.env.REACT_APP_API_URL + path;\n}\n\nexport function expandUrl(path, variable, query=null) {\n    _forEach(variable, (v, k) => {\n        path = path.replace(\"{{\" + k + \"}}\", v)\n    });\n    if (query) {\n        return path + \"?\" + query;\n    } else {\n        return path;\n    }\n\n}\n\nexport function getSearchQueryParams(query, searchType) {\n    if (!_isEmpty(query)) {\n        return {query: query, searchType: getSearchType(searchType).type}\n    } else {\n        return {};\n    }\n}\n\nexport function getSearchQueryText(query, searchType) {\n    if (!_isEmpty(query)) {\n        let searchTypeData = getSearchType(searchType);\n        return searchTypeData.title + \":\" + query;\n    } else {\n        return \"\";\n    }\n}\n\nexport function buildQuery(values) {\n    return _map(_pickBy(values, (v, k) => !_isNil(v)), (v, k) => k + \"=\" + v).join(\"&\")\n}\n\nexport function deepCompareSetState(state, updateState) {\n    if(updateState && _isObjectLike(state)) {\n        updateState((originState) => {\n            if (originState && _isMatch(originState, state)) {\n                return originState;\n            }\n            return state\n        })\n    }\n}\n\nexport function fixedFlotingPoint(v, limit=4) {\n    if (!v) return v;\n    let denom = Math.pow(10, limit);\n    return Math.floor(v * denom) / denom;\n}\n\nexport function isSimilarLocation(latlng1, latlng2, accuracy=3) {\n    if (_isNil(latlng1) || _isNil(latlng1.lat) || _isNil(latlng1.lng)\n    || _isNil(latlng2) || _isNil(latlng2.lat) || _isNil(latlng2.lng)) {\n        return false;\n    }\n    return fixedFlotingPoint(latlng1.lat, 3) === fixedFlotingPoint(latlng2.lat, 3)\n        && fixedFlotingPoint(latlng1.lng, 3) === fixedFlotingPoint(latlng2.lng, 3);\n}\n\nexport function delayObservable(delay) {\n    return new Observable(observer => {\n        setTimeout(() => {\n            observer.next(delay);\n            observer.complete();\n        }, delay);\n    });\n};\n\nexport function getRandomInt(min, max) {\n    min = Math.ceil(min);\n    max = Math.floor(max);\n    return Math.floor(Math.random() * (max - min)) + min;\n}\n"]},"metadata":{},"sourceType":"module"}