{"ast":null,"code":"import _slicedToArray from \"/Users/nhnent/IdeaProjects/moobe/src/main/webapps/moobe-fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/nhnent/IdeaProjects/moobe/src/main/webapps/moobe-fe/src/components/common/map/StaticKakaoMap.jsx\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport VisibilitySensor from \"react-visibility-sensor\";\nexport const StaticMapContext = React.createContext({});\n\nconst StaticKakaoMap = props => {\n  const _useState = useState({\n    map: null,\n    kakao: props.kakao\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        state = _useState2[0],\n        setState = _useState2[1];\n\n  const _useState3 = useState(false),\n        _useState4 = _slicedToArray(_useState3, 2),\n        mapVisible = _useState4[0],\n        setMapVisible = _useState4[1];\n\n  const mapRef = useRef(null);\n  useEffect(() => {\n    if (!mapVisible) return;\n    const kakao = props.kakao;\n    const _props$options = props.options,\n          lat = _props$options.lat,\n          lng = _props$options.lng,\n          level = _props$options.level,\n          markerOptions = _props$options.markerOptions;\n    const node = mapRef.current;\n\n    if (state.map || node === null) {\n      return;\n    }\n\n    const marker = markerOptions ? {\n      position: new kakao.maps.LatLng(markerOptions.lat, markerOptions.lng),\n      text: markerOptions.text\n    } : {};\n    const staticMapOption = {\n      level: level || 9,\n      center: new kakao.maps.LatLng(lat, lng)\n    };\n    const map = new kakao.maps.StaticMap(node, Object.assign({}, staticMapOption, {\n      marker\n    }));\n    setState({\n      map,\n      kakao\n    });\n    return () => {};\n  }, [mapVisible]);\n  return React.createElement(VisibilitySensor, {\n    onChange: v => setMapVisible(v),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: props.className,\n    id: \"static-kakao-map\",\n    ref: mapRef,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, state.map === null ? null : React.createElement(StaticMapContext.Provider, {\n    value: state,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, props.children)));\n};\n\nexport default StaticKakaoMap;","map":{"version":3,"sources":["/Users/nhnent/IdeaProjects/moobe/src/main/webapps/moobe-fe/src/components/common/map/StaticKakaoMap.jsx"],"names":["React","useEffect","useRef","useState","VisibilitySensor","StaticMapContext","createContext","StaticKakaoMap","props","map","kakao","state","setState","mapVisible","setMapVisible","mapRef","options","lat","lng","level","markerOptions","node","current","marker","position","maps","LatLng","text","staticMapOption","center","StaticMap","Object","assign","v","className","children"],"mappings":";;AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,MAA1B,EAAkCC,QAAlC,QAAiD,OAAjD;AACA,OAAOC,gBAAP,MAA6B,yBAA7B;AAEA,OAAO,MAAMC,gBAAgB,GAAGL,KAAK,CAACM,aAAN,CAAoB,EAApB,CAAzB;;AAEP,MAAMC,cAAc,GAAGC,KAAK,IAAI;AAAA,oBACFL,QAAQ,CAAC;AAC/BM,IAAAA,GAAG,EAAE,IAD0B;AAE/BC,IAAAA,KAAK,EAAEF,KAAK,CAACE;AAFkB,GAAD,CADN;AAAA;AAAA,QACrBC,KADqB;AAAA,QACdC,QADc;;AAAA,qBAKQT,QAAQ,CAAC,KAAD,CALhB;AAAA;AAAA,QAKrBU,UALqB;AAAA,QAKTC,aALS;;AAO5B,QAAMC,MAAM,GAAGb,MAAM,CAAC,IAAD,CAArB;AACAD,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAI,CAACY,UAAL,EAAiB;AADL,UAEJH,KAFI,GAEMF,KAFN,CAEJE,KAFI;AAAA,2BAG+BF,KAAK,CAACQ,OAHrC;AAAA,UAGJC,GAHI,kBAGJA,GAHI;AAAA,UAGCC,GAHD,kBAGCA,GAHD;AAAA,UAGMC,KAHN,kBAGMA,KAHN;AAAA,UAGaC,aAHb,kBAGaA,aAHb;AAIZ,UAAMC,IAAI,GAAGN,MAAM,CAACO,OAApB;;AACA,QAAIX,KAAK,CAACF,GAAN,IAAaY,IAAI,KAAK,IAA1B,EAAgC;AAC5B;AACH;;AACD,UAAME,MAAM,GAAGH,aAAa,GAAG;AAC3BI,MAAAA,QAAQ,EAAE,IAAId,KAAK,CAACe,IAAN,CAAWC,MAAf,CAAsBN,aAAa,CAACH,GAApC,EAAyCG,aAAa,CAACF,GAAvD,CADiB;AAE3BS,MAAAA,IAAI,EAAEP,aAAa,CAACO;AAFO,KAAH,GAGxB,EAHJ;AAIA,UAAMC,eAAe,GAAG;AACpBT,MAAAA,KAAK,EAAEA,KAAK,IAAI,CADI;AAEpBU,MAAAA,MAAM,EAAE,IAAInB,KAAK,CAACe,IAAN,CAAWC,MAAf,CAAsBT,GAAtB,EAA2BC,GAA3B;AAFY,KAAxB;AAKA,UAAMT,GAAG,GAAG,IAAIC,KAAK,CAACe,IAAN,CAAWK,SAAf,CAAyBT,IAAzB,EAA+BU,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBJ,eAAlB,EAAmC;AAACL,MAAAA;AAAD,KAAnC,CAA/B,CAAZ;AACAX,IAAAA,QAAQ,CAAC;AAACH,MAAAA,GAAD;AAAMC,MAAAA;AAAN,KAAD,CAAR;AACA,WAAO,MAAM,CAAE,CAAf;AACH,GApBQ,EAoBN,CAACG,UAAD,CApBM,CAAT;AAsBA,SACI,oBAAC,gBAAD;AAAkB,IAAA,QAAQ,EAAGoB,CAAD,IAAOnB,aAAa,CAACmB,CAAD,CAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAEzB,KAAK,CAAC0B,SAAtB;AAAiC,IAAA,EAAE,EAAC,kBAApC;AAAuD,IAAA,GAAG,EAAEnB,MAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKJ,KAAK,CAACF,GAAN,KAAc,IAAd,GAAqB,IAArB,GACG,oBAAC,gBAAD,CAAkB,QAAlB;AAA2B,IAAA,KAAK,EAAEE,KAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKH,KAAK,CAAC2B,QADX,CAFR,CADJ,CADJ;AAWH,CAzCD;;AA2CA,eAAe5B,cAAf","sourcesContent":["import React, {useEffect, useRef, useState} from \"react\";\nimport VisibilitySensor from \"react-visibility-sensor\";\n\nexport const StaticMapContext = React.createContext({});\n\nconst StaticKakaoMap = props => {\n    const [state, setState] = useState({\n        map: null,\n        kakao: props.kakao\n    });\n    const [mapVisible, setMapVisible] = useState(false);\n\n    const mapRef = useRef(null);\n    useEffect(() => {\n        if (!mapVisible) return;\n        const { kakao } = props;\n        const { lat, lng, level, markerOptions } = props.options;\n        const node = mapRef.current;\n        if (state.map || node === null) {\n            return;\n        }\n        const marker = markerOptions ? {\n            position: new kakao.maps.LatLng(markerOptions.lat, markerOptions.lng),\n            text: markerOptions.text\n        } : {};\n        const staticMapOption = {\n            level: level || 9,\n            center: new kakao.maps.LatLng(lat, lng)\n        };\n\n        const map = new kakao.maps.StaticMap(node, Object.assign({}, staticMapOption, {marker}));\n        setState({map, kakao});\n        return () => {};\n    }, [mapVisible]);\n\n    return (\n        <VisibilitySensor onChange={(v) => setMapVisible(v)}>\n            <div className={props.className} id=\"static-kakao-map\" ref={mapRef}>\n                {state.map === null ? null : (\n                    <StaticMapContext.Provider value={state}>\n                        {props.children}\n                    </StaticMapContext.Provider>\n                )}\n            </div>\n        </VisibilitySensor>\n    );\n};\n\nexport default StaticKakaoMap;"]},"metadata":{},"sourceType":"module"}