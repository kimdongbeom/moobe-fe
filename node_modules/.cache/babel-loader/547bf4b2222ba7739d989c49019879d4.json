{"ast":null,"code":"var _jsxFileName = \"/Users/nhnent/IdeaProjects/moobe/src/main/webapps/moobe-fe/src/components/desktop/video/VideoList.jsx\";\nimport React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { LoadingVideo } from \"components/common/layout/PresentUtil\";\nimport Video from \"components/desktop/video/Video\";\nimport { range as _range } from 'lodash';\nimport { setActiveContent, showOverlayContent } from \"data/redux/action/content\";\nimport { useHistory, useLocation } from \"react-router\";\nimport { buildQuery } from \"data/util\";\nimport SearchInfoHeader from \"components/common/search/SearchInfoHeader\";\nimport queryString from \"query-string\";\nconst LoadingList = React.createElement(React.Fragment, null, React.createElement(LoadingVideo, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 13\n  },\n  __self: this\n}), React.createElement(LoadingVideo, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 14\n  },\n  __self: this\n}), React.createElement(LoadingVideo, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 15\n  },\n  __self: this\n}), React.createElement(LoadingVideo, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 16\n  },\n  __self: this\n}), React.createElement(LoadingVideo, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 17\n  },\n  __self: this\n}), React.createElement(LoadingVideo, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 18\n  },\n  __self: this\n}));\nexport const VideoList = () => {\n  const _useSelector = useSelector(state => state.content),\n        contentList = _useSelector.contentList,\n        contentLoading = _useSelector.contentLoading,\n        pageNum = _useSelector.pageNum,\n        maxPage = _useSelector.maxPage;\n\n  const _useSelector2 = useSelector(state => state.channel),\n        channelLoading = _useSelector2.channelLoading;\n\n  const dispatch = useDispatch();\n  const pageGap = 4;\n  const history = useHistory();\n  const location = useLocation();\n\n  const renderContentList = () => {\n    return contentList.map(content => React.createElement(Video, {\n      key: content.id,\n      content: content,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31\n      },\n      __self: this\n    }));\n  };\n\n  const goPage = i => {\n    dispatch(setActiveContent(null));\n    dispatch(showOverlayContent(null));\n    history.push({\n      pathname: location.pathname,\n      search: buildQuery(Object.assign(queryString.parse(location.search), {\n        page: i\n      }))\n    });\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(SearchInfoHeader, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }), channelLoading || contentLoading ? LoadingList : renderContentList(), channelLoading || contentLoading || contentList.length === 0 ? null : React.createElement(Pagination, {\n    pageNum: pageNum,\n    maxPage: maxPage,\n    pageGap: pageGap,\n    goPage: goPage,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }));\n};\n\nconst Pagination = ({\n  pageNum,\n  maxPage,\n  pageGap,\n  goPage\n}) => React.createElement(\"div\", {\n  className: \"has-margin-top-10\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 52\n  },\n  __self: this\n}, React.createElement(\"nav\", {\n  className: \"pagination\",\n  role: \"navigation\",\n  \"aria-label\": \"pagination\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 53\n  },\n  __self: this\n}, React.createElement(\"ul\", {\n  className: \"pagination-list justify-center\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 54\n  },\n  __self: this\n}, pageNum - pageGap > 1 ? React.createElement(\"li\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 55\n  },\n  __self: this\n}, React.createElement(\"a\", {\n  className: \"pagination-link\",\n  onClick: e => goPage(1),\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 55\n  },\n  __self: this\n}, 1)) : null, pageNum - pageGap > 2 ? React.createElement(\"li\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 56\n  },\n  __self: this\n}, React.createElement(\"span\", {\n  className: \"pagination-ellipsis\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 56\n  },\n  __self: this\n}, \"\\u2026\")) : null, _range(pageNum - pageGap > 1 ? pageNum - pageGap : 1, pageNum + pageGap < maxPage ? pageNum + pageGap + 1 : maxPage + 1).map(index => {\n  if (index === pageNum) {\n    return React.createElement(\"li\", {\n      key: index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      className: \"pagination-link is-current\",\n      \"aria-current\": \"page\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, index));\n  } else {\n    return React.createElement(\"li\", {\n      key: index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      className: \"pagination-link\",\n      onClick: e => goPage(index),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, index));\n  }\n}), pageNum + pageGap < maxPage - 1 ? React.createElement(\"li\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 64\n  },\n  __self: this\n}, React.createElement(\"span\", {\n  className: \"pagination-ellipsis\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 64\n  },\n  __self: this\n}, \"\\u2026\")) : null, pageNum + pageGap < maxPage ? React.createElement(\"li\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 65\n  },\n  __self: this\n}, React.createElement(\"a\", {\n  className: \"pagination-link\",\n  onClick: e => goPage(maxPage),\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 65\n  },\n  __self: this\n}, maxPage)) : null)));","map":{"version":3,"sources":["/Users/nhnent/IdeaProjects/moobe/src/main/webapps/moobe-fe/src/components/desktop/video/VideoList.jsx"],"names":["React","useDispatch","useSelector","LoadingVideo","Video","range","_range","setActiveContent","showOverlayContent","useHistory","useLocation","buildQuery","SearchInfoHeader","queryString","LoadingList","VideoList","state","content","contentList","contentLoading","pageNum","maxPage","channel","channelLoading","dispatch","pageGap","history","location","renderContentList","map","id","goPage","i","push","pathname","search","Object","assign","parse","page","length","Pagination","e","index"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {useDispatch, useSelector} from 'react-redux';\nimport {LoadingVideo} from \"components/common/layout/PresentUtil\";\nimport Video from \"components/desktop/video/Video\";\nimport {range as _range} from 'lodash';\nimport {setActiveContent, showOverlayContent} from \"data/redux/action/content\";\nimport {useHistory, useLocation} from \"react-router\";\nimport {buildQuery} from \"data/util\";\nimport SearchInfoHeader from \"components/common/search/SearchInfoHeader\";\nimport queryString from \"query-string\";\n\nconst LoadingList = <>\n        <LoadingVideo />\n        <LoadingVideo />\n        <LoadingVideo />\n        <LoadingVideo />\n        <LoadingVideo />\n        <LoadingVideo />\n    </>;\n\n\nexport const VideoList = () => {\n    const {contentList, contentLoading, pageNum, maxPage} = useSelector(state => state.content);\n    const {channelLoading} = useSelector(state => state.channel);\n    const dispatch = useDispatch();\n    const pageGap = 4;\n    const history = useHistory();\n    const location = useLocation();\n    const renderContentList = () => {\n        return contentList.map(content =>\n            <Video key={content.id} content={content} />)\n    };\n\n    const goPage = (i) => {\n        dispatch(setActiveContent(null));\n        dispatch(showOverlayContent(null));\n        history.push({\n            pathname: location.pathname,\n            search: buildQuery(Object.assign(queryString.parse(location.search), {page: i}))\n        });\n    };\n    return (\n        <>\n            <SearchInfoHeader />\n            {channelLoading || contentLoading? LoadingList : renderContentList() }\n            {channelLoading || contentLoading || contentList.length === 0 ? null : <Pagination pageNum={pageNum} maxPage={maxPage} pageGap={pageGap} goPage={goPage} />}\n        </>\n    )\n};\n\nconst Pagination = ({pageNum, maxPage, pageGap, goPage}) => (\n    <div className=\"has-margin-top-10\">\n        <nav className=\"pagination\" role=\"navigation\" aria-label=\"pagination\">\n            <ul className=\"pagination-list justify-center\">\n                {pageNum - pageGap > 1 ? <li><a className=\"pagination-link\" onClick={(e) => goPage(1)}>{1}</a></li> : null}\n                {pageNum - pageGap > 2 ? <li><span className=\"pagination-ellipsis\">&hellip;</span></li> : null}\n                {_range(pageNum - pageGap > 1? pageNum - pageGap : 1, pageNum + pageGap < maxPage ? pageNum + pageGap + 1 : maxPage + 1).map(index => {\n                    if (index === pageNum) {\n                        return <li key={index}><a className=\"pagination-link is-current\" aria-current=\"page\">{index}</a></li>\n                    } else {\n                        return <li key={index}><a className=\"pagination-link\" onClick={(e) => goPage(index)}>{index}</a></li>\n                    }\n                })}\n                {pageNum + pageGap < maxPage - 1 ? <li><span className=\"pagination-ellipsis\">&hellip;</span></li>  : null}\n                {pageNum + pageGap < maxPage ? <li><a className=\"pagination-link\" onClick={(e) => goPage(maxPage)}>{maxPage}</a></li>  : null}\n            </ul>\n        </nav>\n    </div>\n);\n"]},"metadata":{},"sourceType":"module"}